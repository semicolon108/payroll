(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f69fddb"],{2128:function(t,a,e){"use strict";e.d(a,"c",(function(){return k})),e.d(a,"a",(function(){return g})),e.d(a,"d",(function(){return y})),e.d(a,"b",(function(){return b}));var r,n,s,o,i=e("c7eb"),c=e("1da1"),u=(e("d3b7"),e("8785")),l=e("5184"),d=Object(l["a"])(r||(r=Object(u["a"])(["\n\n{\n  getWorkingDayGroups {\n    _id\n    name\n    workingDay\n    OTBase\n    employeesCount\n  }\n}\n\n"]))),p=Object(l["a"])(n||(n=Object(u["a"])(["\n\n    mutation (\n    $name: String!\n        $workingDay: Int!\n    $OTBase: Int!\n    ) {\n    addWorkingDayGroup(\n        workingDay: $workingDay\n        name: $name\n        OTBase: $OTBase\n    )\n    }\n\n"]))),f=Object(l["a"])(s||(s=Object(u["a"])(["\n\n    mutation (\n    $workingDayGroupId: ID!\n        $name: String!\n    $workingDay: Int!\n    $OTBase: Int!\n    ) {\n    updateWorkingDayGroup(\n        workingDayGroupId: $workingDayGroupId\n        workingDay: $workingDay\n        name: $name\n        OTBase: $OTBase\n    )\n    }\n\n"]))),m=Object(l["a"])(o||(o=Object(u["a"])(["\n\nmutation (\n  $workingDayGroupId: ID\n) {\n  deleteWorkingDayGroup(\n    workingDayGroupId: $workingDayGroupId\n  )\n}\n\n"]))),v=e("47b6"),k=function(){return new Promise(function(){var t=Object(c["a"])(Object(i["a"])().mark((function t(a,e){var r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v["a"].query({query:d});case 3:r=t.sent,a(r.data.getWorkingDayGroups),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(a,e){return t.apply(this,arguments)}}())},g=function(t){return new Promise(function(){var a=Object(c["a"])(Object(i["a"])().mark((function a(e,r){var n;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,v["a"].mutate({mutation:p,variables:t});case 3:n=a.sent,e(n.data.addWorkingDayGroup),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),r(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(t,e){return a.apply(this,arguments)}}())},y=function(t){return new Promise(function(){var a=Object(c["a"])(Object(i["a"])().mark((function a(e,r){var n;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,v["a"].mutate({mutation:f,variables:t});case 3:n=a.sent,e(n.data.updateWorkingDayGroup),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),r(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(t,e){return a.apply(this,arguments)}}())},b=function(t){return new Promise(function(){var a=Object(c["a"])(Object(i["a"])().mark((function a(e,r){var n;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,v["a"].mutate({mutation:m,variables:t});case 3:n=a.sent,e(n.data.deleteWorkingDayGroup),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),r(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(t,e){return a.apply(this,arguments)}}())}},"48d7":function(t,a,e){"use strict";e.r(a);e("b0c0");var r=function(){var t=this,a=t._self._c;return a("div",{staticClass:"page-container"},[a("div",{staticClass:"page-header"},[a("div",{staticClass:"header-start"},[a("h3",{staticClass:"page-title"},[t._v("Company Work Group")]),a("button",{staticClass:"button primary",on:{click:function(a){return t.ModalClick()}}},[a("i",{staticClass:"fas fa-plus"}),t._v(" Add ")])])]),a("div",{staticClass:"page-content"},[a("table",{staticClass:"table is-fullwidth",attrs:{id:"my-table"}},[t._m(0),a("tbody",t._l(t.workingDayGroups,(function(e){return a("tr",{key:e._id},[a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.employeesCount))]),a("td",[t._v(t._s(e.workingDay))]),a("td",[t._v(t._s(e.OTBase))]),a("td",{staticClass:"is-right"},[a("div",{staticClass:"icons"},[a("span",{staticClass:"icon hover-primary",on:{click:function(a){return t.editModal(e)}}},[a("i",{staticClass:"fas fa-pen"})]),a("span",{staticClass:"icon alert hover-alert",on:{click:function(a){return t.deleteWorkingDayGroup(e._id)}}},[a("i",{staticClass:"fas fa-trash"})])])])])})),0)])]),t.Modal?a("WorkDay",{ref:"WorkingDayGroup",on:{CloseModal:function(a){t.Modal=!1,t.getWorkingDayGroups()}}}):t._e()],1)},n=[function(){var t=this,a=t._self._c;return a("thead",[a("tr",[a("th",[t._v("Group Name")]),a("th",{staticClass:"is-xs"},[t._v("Employee")]),a("th",{staticClass:"is-xs"},[t._v("Workday")]),a("th",{staticClass:"is-xs"},[t._v("OT Day")]),a("th",{staticClass:"is-xxs is-right"},[t._v("Option")])])])}],s=e("c7eb"),o=e("1da1"),i=(e("d9e2"),function(){var t=this,a=t._self._c;return a("div",{staticClass:"modal is-active"},[a("div",{staticClass:"modal-background",on:{click:t.CloseModal}}),a("div",{staticClass:"modal-card"},[a("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var r=e.handleSubmit;return[a("div",{staticClass:"modal-card-head"},[a("h3",[t._v(t._s(t.isEditMode?"Update Work Group":"Add Work Group"))]),a("button",{staticClass:"modal-close is-large",attrs:{"aria-label":"close"},on:{click:function(a){return t.CloseModal()}}})]),a("section",{staticClass:"modal-card-body"},[a("div",{staticClass:"field"},[a("label",{staticClass:"label",attrs:{for:""}},[t._v("Group Name")]),a("div",{staticClass:"control"},[a("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"input",attrs:{type:"text",placeholder:"Contract Staff"},domProps:{value:t.form.name},on:{input:function(a){a.target.composing||t.$set(t.form,"name",a.target.value)}}}),a("p",{staticClass:"has-text-danger"},[t._v(t._s(r[0]))])]}}],null,!0)})],1)]),a("div",{staticClass:"field"},[a("label",{staticClass:"label",attrs:{for:""}},[t._v("Work Day")]),a("div",{staticClass:"control"},[a("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.workingDay,expression:"form.workingDay"}],staticClass:"input",attrs:{type:"text",placeholder:"e.g 30"},domProps:{value:t.form.workingDay},on:{input:function(a){a.target.composing||t.$set(t.form,"workingDay",a.target.value)}}}),a("p",{staticClass:"has-text-danger"},[t._v(t._s(r[0]))])]}}],null,!0)})],1)]),a("div",{staticClass:"field"},[a("label",{staticClass:"label",attrs:{for:""}},[t._v("OT Day")]),a("div",{staticClass:"control"},[a("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.OTBase,expression:"form.OTBase"}],staticClass:"input",attrs:{type:"text",placeholder:"e.g 30"},domProps:{value:t.form.OTBase},on:{input:function(a){a.target.composing||t.$set(t.form,"OTBase",a.target.value)}}}),a("p",{staticClass:"has-text-danger"},[t._v(t._s(r[0]))])]}}],null,!0)})],1)])]),a("div",{staticClass:"modal-card-foot"},[t.isEditMode?a("button",{staticClass:"button primary",on:{click:function(a){return r(t.updateWorkingDayGroup)}}},[t._v("Update")]):a("button",{staticClass:"button primary",on:{click:function(a){return r(t.addWorkingDayGroup)}}},[t._v("Save")])])]}}])})],1)])}),c=[],u=e("2128"),l={data:function(){return{form:{name:"",workingDay:null,OTBase:null},isEditMode:!1,workingDayGroupId:""}},methods:{CloseModal:function(){this.$emit("CloseModal")},addWorkingDayGroup:function(){var t=this;return Object(o["a"])(Object(s["a"])().mark((function a(){return Object(s["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.$store.dispatch("loading"),a.next=4,Object(u["a"])({name:t.form.name,workingDay:parseInt(t.form.workingDay,10),OTBase:parseInt(t.form.OTBase,10)});case 4:t.$store.dispatch("completed"),t.CloseModal(),a.next=12;break;case 8:throw a.prev=8,a.t0=a["catch"](0),t.$store.dispatch("error"),new Error(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))()},updateWorkingDayGroup:function(){var t=this;return Object(o["a"])(Object(s["a"])().mark((function a(){return Object(s["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.$store.dispatch("loading"),t.form.workingDayGroupId=t.workingDayGroupId,t.form.workingDay=parseInt(t.form.workingDay,10),t.form.OTBase=parseInt(t.form.OTBase,10),a.next=7,Object(u["d"])(t.form);case 7:t.$store.dispatch("completed"),t.CloseModal(),a.next=15;break;case 11:throw a.prev=11,a.t0=a["catch"](0),t.$store.dispatch("error"),new Error(a.t0);case 15:case"end":return a.stop()}}),a,null,[[0,11]])})))()}}},d=l,p=e("2877"),f=Object(p["a"])(d,i,c,!1,null,"7b6ed756",null),m=f.exports,v={components:{WorkDay:m},data:function(){return{Modal:!1,workingDayGroups:[]}},methods:{ModalClick:function(){this.Modal=!0},editModal:function(t){var a=this;this.Modal=!0,this.$nextTick((function(){a.$refs.WorkingDayGroup.isEditMode=t._id,a.$refs.WorkingDayGroup.workingDayGroupId=t._id,a.$refs.WorkingDayGroup.form.name=t.name,a.$refs.WorkingDayGroup.form.workingDay=t.workingDay,a.$refs.WorkingDayGroup.form.OTBase=t.OTBase}))},getWorkingDayGroups:function(){var t=this;return Object(o["a"])(Object(s["a"])().mark((function a(){return Object(s["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(u["c"])();case 2:t.workingDayGroups=a.sent;case 3:case"end":return a.stop()}}),a)})))()},deleteWorkingDayGroup:function(t){var a=this;return Object(o["a"])(Object(s["a"])().mark((function e(){var r;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.$dialog.confirm("Sure ?");case 2:if(r=e.sent,r){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,a.$store.dispatch("loading"),e.next=9,Object(u["b"])({workingDayGroupId:t});case 9:a.$store.dispatch("completed"),a.getWorkingDayGroups(),e.next=17;break;case 13:throw e.prev=13,e.t0=e["catch"](5),a.$store.dispatch("error"),new Error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[5,13]])})))()}},created:function(){this.getWorkingDayGroups()}},k=v,g=Object(p["a"])(k,r,n,!1,null,"172085ec",null);a["default"]=g.exports}}]);
//# sourceMappingURL=chunk-2f69fddb.808084a3.js.map