(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["getstart"],{"0e18":function(t,e,a){},1646:function(t,e,a){"use strict";a("337f")},"21ee":function(t,e,a){"use strict";a.d(e,"c",(function(){return v})),a.d(e,"d",(function(){return b})),a.d(e,"a",(function(){return y})),a.d(e,"b",(function(){return F}));var n,r,s,o,i=a("c7eb"),u=a("1da1"),c=(a("d3b7"),a("47b6")),l=a("8785"),m=a("5184"),d=Object(m["a"])(n||(n=Object(l["a"])(["\n\n    {\n        getCustomFormulas {\n          _id\n            name\n            formulas\n            isFinalNetPay\n            round\n            sortByFormula\n        }\n    }\n\n"]))),f=Object(m["a"])(r||(r=Object(l["a"])(["\n\nquery(\n  $name: String!\n) {\n  getCustomFormulasByName(name: $name)\n}\n\n"]))),p=Object(m["a"])(s||(s=Object(l["a"])(["\n\nmutation (\n  $info: AddCustomFormulaInput!\n \n) {\n  addCustomFormula(\n    info: $info\n  )\n}\n\n\n"]))),h=Object(m["a"])(o||(o=Object(l["a"])(["\n\nmutation (\n  $customFormulaId: ID!\n \n) {\n  deleteCustomFormula(\n    customFormulaId: $customFormulaId\n  )\n}\n\n\n"]))),v=function(){return new Promise(function(){var t=Object(u["a"])(Object(i["a"])().mark((function t(e,a){var n;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c["a"].query({query:d});case 3:n=t.sent,e(n.data.getCustomFormulas),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),a(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,a){return t.apply(this,arguments)}}())},b=function(){return new Promise(function(){var t=Object(u["a"])(Object(i["a"])().mark((function t(e,a){var n;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c["a"].query({query:f,variables:{name:"Pension Fund"}});case 3:n=t.sent,e(n.data.getCustomFormulasByName),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),a(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,a){return t.apply(this,arguments)}}())},y=function(t){return new Promise(function(){var e=Object(u["a"])(Object(i["a"])().mark((function e(a,n){var r;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c["a"].mutate({mutation:p,variables:{info:t}});case 3:r=e.sent,a(r.data.addCustomFormula),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),n(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}())},F=function(t){return new Promise(function(){var e=Object(u["a"])(Object(i["a"])().mark((function e(a,n){var r;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c["a"].mutate({mutation:h,variables:{customFormulaId:t}});case 3:r=e.sent,a(r.data.deleteCustomFormula),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),n(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}())}},"337b":function(t,e,a){"use strict";a("a742")},"337f":function(t,e,a){},4023:function(t,e,a){"use strict";a.r(e);a("4de4"),a("e9f5"),a("910d"),a("d3b7");var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-container"},[e("div",{staticClass:"page-header"},[e("div",{staticClass:"header-start"},[e("h3",{staticClass:"page-title"},[t._v("Custom Fomula")]),e("a",{staticClass:"button primary",on:{click:t.addArr}},[e("i",{staticClass:"fas fa-plus"}),t._v(" Add")])]),e("div",{staticClass:"header-end"})]),e("div",{staticClass:"page-content no-padding"},t._l(t.customFormulas,(function(a,n){return e("Formula",{key:n,ref:"formula",refInFor:!0,attrs:{formula:a,formulaNames:t.customFormulaNames.filter((function(t,e){return e<n})),lastSortByFormula:t.customFormulas.length-1,idx:n},on:{submitForm:t.submitForm,deleteFormula:t.deleteFormula}})})),1)])},r=[],s=a("c7eb"),o=a("1da1"),i=(a("d9e2"),a("d81d"),a("14d9"),a("a434"),a("b0c0"),a("ab43"),function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"group",style:t.isFormulaError?"border: 2px solid red;":""},[e("span",{staticClass:"del",on:{click:t.deleteFormula}},[e("i",{staticClass:"fa-solid fa-trash"})]),e("div",{staticClass:"formula margin-bottom-30"},[e("div",[e("label",{attrs:{for:""}},[t._v("Sort By Formula - ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sortByFormula,expression:"sortByFormula"}],attrs:{type:"text"},domProps:{value:t.sortByFormula},on:{input:function(e){e.target.composing||(t.sortByFormula=e.target.value)}}})]),e("div",{staticClass:"formula-header"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"section-title",attrs:{type:"text",placeholder:"Group Title"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),e("fieldset",[e("div",{staticClass:"select"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.round,expression:"round"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.round=e.target.multiple?a:a[0]}}},[e("option",[t._v("0")]),e("option",[t._v("1")]),e("option",[t._v("2")])])])]),e("button",{staticClass:"button primary",on:{click:t.submitForm}},[t._v(t._s(t.formula?"Update":"Add"))])]),e("p",{staticStyle:{"font-size":"10px"}},[t._v("Generate code: "+t._s(t.formulas))]),e("br"),t.isFormulaError?e("p",{staticStyle:{color:"red"}},[t._v("Formula Error")]):t._e(),t.isFinalNetPay?e("button",[t._v("Is NetPay")]):e("button",{on:{click:function(e){t.isFinalNetPay=!0}}},[t._v("Is Not NetPay")]),e("draggable",{staticClass:"formula-box",style:t.isFormulaError?"border: 2px solid red;":"",attrs:{list:t.formulas,group:"people"},on:{change:t.log}},t._l(t.formulas,(function(a,n){return e("div",{key:n},[t.isSymbol(a)?e("div",[e("span",{staticClass:"operator",on:{click:function(e){t.openSymbolByIndex===n?t.openSymbolByIndex=null:t.openSymbolByIndex=n}}},[e("i",{class:"fa-solid fa-".concat("+"===t.rename(a)?"plus":"-"===t.rename(a)?"minus":"*"===t.rename(a)?"multiply":"divide")})]),t.openSymbolByIndex===n?e("div",{staticStyle:{display:"flex"}},t._l(["+","-","*","/"].filter((function(e){return e!==t.rename(a)})),(function(a){return e("span",{key:a,staticClass:"operator",on:{click:function(e){t.formulas[n]=a,t.openSymbolByIndex=null}}},[e("i",{class:"fa-solid fa-".concat("+"===a?"plus":"-"===a?"minus":"*"===a?"multiply":"divide")})])})),0):t._e()]):e("span",{staticClass:"handle"},[t._v(" "+t._s(t.rename(a))+" ")])])})),0)],1),e("div",{staticClass:"allowance"},[e("h1",{staticClass:"section-title"},[t._v("System Fields")]),e("draggable",{staticClass:"formula-box",attrs:{list:t.keysNotInFormula,group:"people"}},t._l(t.keysNotInFormula,(function(a,n){return e("div",{key:n},[e("span",{staticClass:"item"},[t._v(" "+t._s(t.rename(a))+" ")])])})),0)],1),e("br"),e("div",{directives:[{name:"show",rawName:"v-show",value:t.formulaKeys.length,expression:"formulaKeys.length"}],staticClass:"allowance"},[e("h1",{staticClass:"section-title"},[t._v("Custom Formula Fields")]),e("draggable",{staticClass:"formula-box",attrs:{list:t.formulaKeys,group:"people"}},t._l(t.formulaKeys,(function(a,n){return e("div",{key:n},[e("span",{staticClass:"item"},[t._v(" "+t._s(a)+" ")])])})),0)],1)])])}),u=[],c=(a("7db0"),a("caad"),a("2532"),a("ddb0"),a("b76a")),l=a.n(c),m=[{key:"basicSalary",name:"Basic Salary"},{name:"This Month Salary",key:"thisMonthSalary"},{key:"tax",name:"Tax"},{key:"ssoPaidByEmp",name:"Employee SSO 5.5%"},{name:"Total Due as Tax",key:"totalDueAsTax"},{key:"finalNetPay",name:"Final Net Pay"},{key:"earningBeforeSso",name:"Earning Before SSO Calculation"},{key:"earningAfterSso",name:"Earning After SSO and Before TAX Calculation"},{key:"earningAfterTax",name:"Earning After TAX Calculation"},{key:"deductionBeforeSso",name:"Deduction Before SSO Calculation"},{key:"deductionAfterSso",name:"Deduction After SSO and Before TAX Calculation"},{key:"deductionAfterTax",name:"Deduction After TAX Calculation"}],d={components:{draggable:l.a},props:["formula","lastSortByFormula","idx","formulaNames"],data:function(){return{name:"",round:0,sortByFormula:0,isFinalNetPay:!1,formulas:[],customFormulaNames:[],symbols:["+","-","*","/"],keys:["thisMonthSalary","basicSalary","tax","ssoPaidByEmp","totalDueAsTax","earningBeforeSso","earningAfterSso","earningAfterTax","deductionBeforeSso","deductionAfterSso","deductionAfterTax"],formulasWithSymbols:[],isFormulaError:!1,openSymbolByIndex:null}},watch:{formula:{handler:function(t){t?(this.name=t.name,this.formulas=t.formulas,this.round=t.round,this.isFinalNetPay=t.isFinalNetPay,this.sortByFormula=t.sortByFormula):this.sortByFormula=this.lastSortByFormula},immediate:!0,deep:!0},formulaNames:{handler:function(t){t&&(this.customFormulaNames=t)},immediate:!0,deep:!0}},computed:{rename:function(){return function(t){var e=m.find((function(e){return e.key===t}));return e?e.name:t}},isSymbol:function(){var t=this;return function(e){return t.symbols.includes(e)}},keysNotInFormula:function(){var t=this;return this.keys.filter((function(e){return!t.formulas.includes(e)}))},formulaKeys:function(){var t=this;return this.customFormulaNames.filter((function(e){return!t.formulas.includes(e)}))}},methods:{deleteFormula:function(){var t=this;return Object(o["a"])(Object(s["a"])().mark((function e(){var a;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.formula||!t.formula.isFinalNetPay){e.next=3;break}return alert("You cant delete netpay"),e.abrupt("return");case 3:if(!t.formula||!t.formula._id){e.next=12;break}return e.next=6,t.$dialog.confirm("Sure ?");case 6:if(a=e.sent,a){e.next=9;break}return e.abrupt("return");case 9:t.$emit("deleteFormula",{id:t.formula._id}),e.next=13;break;case 12:t.$emit("deleteFormula",{idx:t.idx});case 13:case"end":return e.stop()}}),e)})))()},submitForm:function(){if(!this.name)return alert("Name is required");var t={name:this.name,round:parseInt(this.round),sortByFormula:parseInt(this.sortByFormula),formulas:this.formulas,isFinalNetPay:this.isFinalNetPay};this.formula&&(t.customFormulaId=this.formula._id),this.$emit("submitForm",t)},log:function(t){if(t.added){var e=t.added.newIndex;1!==this.formulas.length&&this.formulas.splice(e,0,"+")}else if(t.removed){var a=t.removed.oldIndex;0===a?this.formulas.splice(0,1):this.formulas.splice(a-1,1)}for(var n=[],r=0;r<this.formulas.length;r++){var s=this.formulas[r],o=this.formulas[r+1];(this.symbols.includes(s)&&this.symbols.includes(o)||this.symbols.includes(s)&&0===r||this.symbols.includes(s)&&r===this.formulas.length-1)&&n.push(r)}this.isFormulaError=!!n.length}}},f=d,p=(a("337b"),a("2877")),h=Object(p["a"])(f,i,u,!1,null,"5d7de5a0",null),v=h.exports,b=a("21ee"),y={components:{Formula:v},data:function(){return{customFormulas:[],customFormulaNames:[]}},methods:{addArr:function(){var t=this;this.customFormulas.push(null),this.$nextTick((function(){var e=t.$refs.formula[t.customFormulas.length-1].$el;e&&e.scrollIntoView({behavior:"smooth"})}))},getCustomFormulas:function(){var t=this;return Object(o["a"])(Object(s["a"])().mark((function e(){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(b["c"])();case 3:t.customFormulas=e.sent,t.customFormulaNames=t.customFormulas.map((function(t){return"#"+t.name})),e.next=10;break;case 7:throw e.prev=7,e.t0=e["catch"](0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},addCustomFormula:function(t){var e=this;return Object(o["a"])(Object(s["a"])().mark((function a(){return Object(s["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.$store.dispatch("loading");case 3:return a.next=5,Object(b["a"])(t);case 5:return e.getCustomFormulas(),a.next=8,e.$store.dispatch("completed");case 8:a.next=13;break;case 10:throw a.prev=10,a.t0=a["catch"](0),new Error(a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})))()},deleteCustomFormula:function(t){var e=this;return Object(o["a"])(Object(s["a"])().mark((function a(){return Object(s["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.$store.dispatch("loading");case 3:return a.next=5,Object(b["b"])(t);case 5:return e.getCustomFormulas(),a.next=8,e.$store.dispatch("completed");case 8:a.next=13;break;case 10:throw a.prev=10,a.t0=a["catch"](0),new Error(a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})))()},submitForm:function(t){t&&this.addCustomFormula(t)},deleteFormula:function(t){var e=t.id,a=t.idx;e?this.deleteCustomFormula(e):this.customFormulas.splice(a,1)}},created:function(){this.getCustomFormulas()}},F=y,x=(a("c399"),Object(p["a"])(F,n,r,!1,null,"54069aa3",null));e["default"]=x.exports},"7db0":function(t,e,a){"use strict";var n=a("23e7"),r=a("b727").find,s=a("44d2"),o="find",i=!0;o in[]&&Array(1)[o]((function(){i=!1})),n({target:"Array",proto:!0,forced:i},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),s(o)},"8e20":function(t,e,a){"use strict";a.r(e);a("14d9"),a("a434");var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-container"},[e("div",{staticClass:"page-header"},[e("div",{staticClass:"header-start"},[e("h3",{staticClass:"page-title"},[t._v("Custom Field")]),e("button",{staticClass:"button primary",on:{click:function(e){return t.fields.push(null)}}},[t._v("Add")])]),e("div",{staticClass:"header-end"},[e("button",{staticClass:"button primary",attrs:{type:"button"},on:{click:t.addCustomField}},[t._v(" Save ")])])]),e("div",{staticClass:"page-content"},t._l(t.fields,(function(a,n){return e("div",{key:n,staticClass:"field has-addons"},[e("p",{staticClass:"control is-expanded"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.fields[n],expression:"fields[idx]"}],staticClass:"input",attrs:{type:"text input "},domProps:{value:t.fields[n]},on:{input:function(e){e.target.composing||t.$set(t.fields,n,e.target.value)}}})]),e("p",{staticClass:"control"},[e("a",{staticClass:"button",on:{click:function(e){return t.fields.splice(n,1)}}},[e("i",{staticClass:"fas fa-trash bubble"})])])])})),0)])},r=[],s=a("c7eb"),o=a("1da1"),i=a("d4b8"),u={data:function(){return{fields:[]}},methods:{getCustomFields:function(){var t=this;return Object(o["a"])(Object(s["a"])().mark((function e(){var a;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["b"])();case 2:a=e.sent,t.fields=a.fields;case 4:case"end":return e.stop()}}),e)})))()},addCustomField:function(){var t=this;return Object(o["a"])(Object(s["a"])().mark((function e(){var a;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={fields:t.fields},e.next=3,t.$store.dispatch("loading");case 3:return e.next=5,Object(i["a"])(a);case 5:return e.next=7,t.$store.dispatch("completed");case 7:t.getCustomFields();case 8:case"end":return e.stop()}}),e)})))()}},created:function(){this.getCustomFields()}},c=u,l=(a("1646"),a("2877")),m=Object(l["a"])(c,n,r,!1,null,null,null);e["default"]=m.exports},a742:function(t,e,a){},ab43:function(t,e,a){"use strict";var n=a("23e7"),r=a("d024"),s=a("c430");n({target:"Iterator",proto:!0,real:!0,forced:s},{map:r})},c399:function(t,e,a){"use strict";a("0e18")},d024:function(t,e,a){"use strict";var n=a("c65b"),r=a("59ed"),s=a("825a"),o=a("46c4"),i=a("c5cc"),u=a("9bdd"),c=i((function(){var t=this.iterator,e=s(n(this.next,t)),a=this.done=!!e.done;if(!a)return u(t,this.mapper,[e.value,this.counter++],!0)}));t.exports=function(t){return s(this),r(t),new c(o(this),{mapper:t})}},d4b8:function(t,e,a){"use strict";a.d(e,"b",(function(){return d})),a.d(e,"a",(function(){return f}));var n,r,s=a("c7eb"),o=a("1da1"),i=(a("d3b7"),a("47b6")),u=a("8785"),c=a("5184"),l=Object(c["a"])(n||(n=Object(u["a"])(["\n\n    {\n        getCustomFields {\n            _id\n            fields\n        }\n    }        \n\n"]))),m=Object(c["a"])(r||(r=Object(u["a"])(["\n\n    mutation (\n        $fields: [String!]!\n        ) {\n        addCustomField(\n            fields: $fields\n        )\n    }\n\n"]))),d=function(){return new Promise(function(){var t=Object(o["a"])(Object(s["a"])().mark((function t(e,a){var n;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i["a"].query({query:l});case 3:n=t.sent,e(n.data.getCustomFields),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),a(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,a){return t.apply(this,arguments)}}())},f=function(t){return new Promise(function(){var e=Object(o["a"])(Object(s["a"])().mark((function e(a,n){var r;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i["a"].query({query:m,variables:t});case 3:r=e.sent,a(r.data.addCustomFieldApi),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),n(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}())}},d81d:function(t,e,a){"use strict";var n=a("23e7"),r=a("b727").map,s=a("1dde"),o=s("map");n({target:"Array",proto:!0,forced:!o},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=getstart.4e8458c9.js.map