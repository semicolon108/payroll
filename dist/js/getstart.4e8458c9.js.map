{"version":3,"sources":["webpack:///./src/components/CompanySetup/company-custom-field.vue?42d8","webpack:///./src/graphql/CustomFormula.js","webpack:///./src/apis/custom-formula-api.js","webpack:///./src/components/Formula.vue?cebd","webpack:///./src/views/Formula.vue","webpack:///./src/components/Formula.vue","webpack:///src/components/Formula.vue","webpack:///./src/components/Formula.vue?d172","webpack:///./src/components/Formula.vue?ed57","webpack:///src/views/Formula.vue","webpack:///./src/views/Formula.vue?a7f7","webpack:///./src/views/Formula.vue?6bc4","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./src/components/CompanySetup/company-custom-field.vue","webpack:///src/components/CompanySetup/company-custom-field.vue","webpack:///./src/components/CompanySetup/company-custom-field.vue?f807","webpack:///./src/components/CompanySetup/company-custom-field.vue?9aa5","webpack:///./node_modules/core-js/modules/es.iterator.map.js","webpack:///./src/views/Formula.vue?8473","webpack:///./node_modules/core-js/internals/iterator-map.js","webpack:///./src/graphql/CustomField.js","webpack:///./src/apis/custom-field-api.js","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["GET_CUSTOM_FORMULAS","gql","_templateObject","_taggedTemplateLiteral","GET_CUSTOM_FORMULAS_BY_NAME","_templateObject2","ADD_CUSTOM_FORMULA","_templateObject3","DELETE_CUSTOM_FORMULA","_templateObject4","getCustomFormulasApi","Promise","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","resolve","reject","res","wrap","_context","prev","next","apolloClient","query","sent","data","getCustomFormulas","t0","stop","_x","_x2","apply","arguments","getCustomFormulasByNameApi","_ref2","_callee2","_context2","variables","name","getCustomFormulasByName","_x3","_x4","addCustomFormulaApi","form","_ref3","_callee3","_context3","mutate","mutation","info","addCustomFormula","_x5","_x6","deleteCustomFormulaApi","customFormulaId","_ref4","_callee4","_context4","deleteCustomFormula","_x7","_x8","render","_vm","this","_c","_self","staticClass","_v","on","addArr","_l","customFormulas","i","idx","key","ref","refInFor","attrs","customFormulaNames","filter","o","index","length","submitForm","deleteFormula","staticRenderFns","style","isFormulaError","directives","rawName","value","sortByFormula","expression","domProps","$event","target","composing","round","$$selectedVal","Array","prototype","call","options","selected","map","val","_value","multiple","_s","formula","staticStyle","formulas","_e","isFinalNetPay","log","isSymbol","openSymbolByIndex","class","concat","rename","p","keysNotInFormula","formulaKeys","renameKeys","components","draggable","props","symbols","keys","formulasWithSymbols","watch","handler","lastSortByFormula","immediate","deep","computed","obj","find","_this","includes","_this2","_this3","methods","_this4","isConfirmed","alert","abrupt","_id","$dialog","confirm","$emit","id","parseInt","item","added","newIndex","splice","removed","oldIndex","errors","nextKey","push","component","Formula","$nextTick","el","$refs","$el","scrollIntoView","behavior","Error","$store","dispatch","created","$","$find","addToUnscopables","FIND","SKIPS_HOLES","proto","forced","callbackfn","undefined","fields","addCustomField","$set","getCustomFields","getCustomFieldsApi","addCustomFieldApi","IS_PURE","real","aCallable","anObject","getIteratorDirect","createIteratorProxy","callWithSafeIterationClosing","IteratorProxy","iterator","result","done","mapper","counter","module","exports","GET_CUSTOM_FIELDS","ADD_CUSTOM_FIELD","$map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT"],"mappings":"mIAAA,W,gQCEaA,EAAsBC,eAAGC,MAAAC,eAAA,oMAezBC,EAA8BH,eAAGI,MAAAF,eAAA,wFAUjCG,EAAqBL,eAAGM,MAAAJ,eAAA,mHAiBxBK,EAAwBP,eAAGQ,MAAAN,eAAA,oICzC3BO,EAAuB,WAChC,OAAO,IAAIC,QAAO,eAAAC,EAAAC,eAAAC,iBAAAC,MAAC,SAAAC,EAAOC,EAASC,GAAM,IAAAC,EAAA,OAAAL,iBAAAM,MAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEfC,OAAaC,MAAM,CACjCA,MAAOzB,IACT,OAFImB,EAAGE,EAAAK,KAGTT,EAAQE,EAAIQ,KAAKC,mBAAkBP,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAQ,GAAAR,EAAA,YAEnCH,EAAMG,EAAAQ,IAAG,yBAAAR,EAAAS,UAAAd,EAAA,kBAEhB,gBAAAe,EAAAC,GAAA,OAAApB,EAAAqB,MAAA,KAAAC,YATiB,KAYTC,EAA6B,WACtC,OAAO,IAAIxB,QAAO,eAAAyB,EAAAvB,eAAAC,iBAAAC,MAAC,SAAAsB,EAAOpB,EAASC,GAAM,IAAAC,EAAA,OAAAL,iBAAAM,MAAA,SAAAkB,GAAA,eAAAA,EAAAhB,KAAAgB,EAAAf,MAAA,cAAAe,EAAAhB,KAAA,EAAAgB,EAAAf,KAAA,EAEfC,OAAaC,MAAM,CACjCA,MAAOrB,EACPmC,UAAW,CACPC,KAAM,kBAEZ,OALIrB,EAAGmB,EAAAZ,KAMTT,EAAQE,EAAIQ,KAAKc,yBAAwBH,EAAAf,KAAA,gBAAAe,EAAAhB,KAAA,EAAAgB,EAAAT,GAAAS,EAAA,YAEzCpB,EAAMoB,EAAAT,IAAG,yBAAAS,EAAAR,UAAAO,EAAA,kBAEhB,gBAAAK,EAAAC,GAAA,OAAAP,EAAAH,MAAA,KAAAC,YAZiB,KAeTU,EAAsB,SAACC,GAChC,OAAO,IAAIlC,QAAO,eAAAmC,EAAAjC,eAAAC,iBAAAC,MAAC,SAAAgC,EAAO9B,EAASC,GAAM,IAAAC,EAAA,OAAAL,iBAAAM,MAAA,SAAA4B,GAAA,eAAAA,EAAA1B,KAAA0B,EAAAzB,MAAA,cAAAyB,EAAA1B,KAAA,EAAA0B,EAAAzB,KAAA,EAEfC,OAAayB,OAAO,CAClCC,SAAU5C,EACViC,UAAW,CACPY,KAAMN,KAGZ,OANI1B,EAAG6B,EAAAtB,KAOTT,EAAQE,EAAIQ,KAAKyB,kBAAiBJ,EAAAzB,KAAA,gBAAAyB,EAAA1B,KAAA,EAAA0B,EAAAnB,GAAAmB,EAAA,YAElC9B,EAAM8B,EAAAnB,IAAG,yBAAAmB,EAAAlB,UAAAiB,EAAA,kBAEhB,gBAAAM,EAAAC,GAAA,OAAAR,EAAAb,MAAA,KAAAC,YAbiB,KAiBTqB,EAAyB,SAACC,GACnC,OAAO,IAAI7C,QAAO,eAAA8C,EAAA5C,eAAAC,iBAAAC,MAAC,SAAA2C,EAAOzC,EAASC,GAAM,IAAAC,EAAA,OAAAL,iBAAAM,MAAA,SAAAuC,GAAA,eAAAA,EAAArC,KAAAqC,EAAApC,MAAA,cAAAoC,EAAArC,KAAA,EAAAqC,EAAApC,KAAA,EAEfC,OAAayB,OAAO,CAClCC,SAAU1C,EACV+B,UAAW,CACPiB,qBAGN,OANIrC,EAAGwC,EAAAjC,KAOTT,EAAQE,EAAIQ,KAAKiC,qBAAoBD,EAAApC,KAAA,gBAAAoC,EAAArC,KAAA,EAAAqC,EAAA9B,GAAA8B,EAAA,YAErCzC,EAAMyC,EAAA9B,IAAG,yBAAA8B,EAAA7B,UAAA4B,EAAA,kBAEhB,gBAAAG,EAAAC,GAAA,OAAAL,EAAAxB,MAAA,KAAAC,YAbiB,M,oCCnDtB,W,8GCAI6B,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,KAAK,CAACE,YAAY,cAAc,CAACJ,EAAIK,GAAG,mBAAmBH,EAAG,IAAI,CAACE,YAAY,iBAAiBE,GAAG,CAAC,MAAQN,EAAIO,SAAS,CAACL,EAAG,IAAI,CAACE,YAAY,gBAAgBJ,EAAIK,GAAG,YAAYH,EAAG,MAAM,CAACE,YAAY,iBAAiBF,EAAG,MAAM,CAACE,YAAY,2BAA2BJ,EAAIQ,GAAIR,EAAIS,gBAAgB,SAASC,EAAEC,GAAK,OAAOT,EAAG,UAAU,CAACU,IAAID,EAAIE,IAAI,UAAUC,UAAS,EAAKC,MAAM,CAAC,QAAUL,EAAE,aAAeV,EAAIgB,mBAAmBC,QAAO,SAACC,EAAGC,GAAK,OAAKA,EAAQR,KAAK,kBAAoBX,EAAIS,eAAeW,OAAS,EAAE,IAAMT,GAAKL,GAAG,CAAC,WAAaN,EAAIqB,WAAW,cAAgBrB,EAAIsB,oBAAmB,MAErwBC,EAAkB,G,wBCFlBxB,G,4DAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,QAAQoB,MAAOxB,EAAIyB,eAAiB,yBAAH,IAAmC,CAACvB,EAAG,OAAO,CAACE,YAAY,MAAME,GAAG,CAAC,MAAQN,EAAIsB,gBAAgB,CAACpB,EAAG,IAAI,CAACE,YAAY,wBAAwBF,EAAG,MAAM,CAACE,YAAY,4BAA4B,CAACF,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACa,MAAM,CAAC,IAAM,KAAK,CAACf,EAAIK,GAAG,wBAAwBH,EAAG,QAAQ,CAACwB,WAAW,CAAC,CAAClD,KAAK,QAAQmD,QAAQ,UAAUC,MAAO5B,EAAI6B,cAAeC,WAAW,kBAAkBf,MAAM,CAAC,KAAO,QAAQgB,SAAS,CAAC,MAAS/B,EAAI6B,eAAgBvB,GAAG,CAAC,MAAQ,SAAS0B,GAAWA,EAAOC,OAAOC,YAAiBlC,EAAI6B,cAAcG,EAAOC,OAAOL,aAAY1B,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACwB,WAAW,CAAC,CAAClD,KAAK,QAAQmD,QAAQ,UAAUC,MAAO5B,EAAIxB,KAAMsD,WAAW,SAAS1B,YAAY,gBAAgBW,MAAM,CAAC,KAAO,OAAO,YAAc,eAAegB,SAAS,CAAC,MAAS/B,EAAIxB,MAAO8B,GAAG,CAAC,MAAQ,SAAS0B,GAAWA,EAAOC,OAAOC,YAAiBlC,EAAIxB,KAAKwD,EAAOC,OAAOL,WAAU1B,EAAG,WAAW,CAACA,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,SAAS,CAACwB,WAAW,CAAC,CAAClD,KAAK,QAAQmD,QAAQ,UAAUC,MAAO5B,EAAImC,MAAOL,WAAW,UAAUxB,GAAG,CAAC,OAAS,SAAS0B,GAAQ,IAAII,EAAgBC,MAAMC,UAAUrB,OAAOsB,KAAKP,EAAOC,OAAOO,SAAQ,SAAStB,GAAG,OAAOA,EAAEuB,YAAWC,KAAI,SAASxB,GAAG,IAAIyB,EAAM,WAAYzB,EAAIA,EAAE0B,OAAS1B,EAAEU,MAAM,OAAOe,KAAO3C,EAAImC,MAAMH,EAAOC,OAAOY,SAAWT,EAAgBA,EAAc,MAAM,CAAClC,EAAG,SAAS,CAACF,EAAIK,GAAG,OAAOH,EAAG,SAAS,CAACF,EAAIK,GAAG,OAAOH,EAAG,SAAS,CAACF,EAAIK,GAAG,aAAaH,EAAG,SAAS,CAACE,YAAY,iBAAiBE,GAAG,CAAC,MAAQN,EAAIqB,aAAa,CAACrB,EAAIK,GAAGL,EAAI8C,GAAG9C,EAAI+C,QAAU,SAAW,YAAY7C,EAAG,IAAI,CAAC8C,YAAY,CAAC,YAAY,SAAS,CAAChD,EAAIK,GAAG,kBAAkBL,EAAI8C,GAAG9C,EAAIiD,aAAa/C,EAAG,MAAOF,EAAIyB,eAAgBvB,EAAG,IAAI,CAAC8C,YAAY,CAAC,MAAQ,QAAQ,CAAChD,EAAIK,GAAG,mBAAmBL,EAAIkD,KAAMlD,EAAImD,cAAejD,EAAG,SAAS,CAACF,EAAIK,GAAG,eAAeH,EAAG,SAAS,CAACI,GAAG,CAAC,MAAQ,SAAS0B,GAAQhC,EAAImD,eAAgB,KAAQ,CAACnD,EAAIK,GAAG,mBAAmBH,EAAG,YAAY,CAACE,YAAY,cAAcoB,MAAOxB,EAAIyB,eAAiB,yBAAH,GAAkCV,MAAM,CAAC,KAAOf,EAAIiD,SAAS,MAAQ,UAAU3C,GAAG,CAAC,OAASN,EAAIoD,MAAMpD,EAAIQ,GAAIR,EAAIiD,UAAU,SAASvC,EAAEC,GAAK,OAAOT,EAAG,MAAM,CAACU,IAAID,GAAK,CAAGX,EAAIqD,SAAS3C,GAA8ER,EAAG,MAAM,CAACA,EAAG,OAAO,CAACE,YAAY,WAAWE,GAAG,CAAC,MAAQ,SAAS0B,GAAQhC,EAAIsD,oBAAsB3C,EAAMX,EAAIsD,kBAAoB,KAAOtD,EAAIsD,kBAAoB3C,KAAO,CAACT,EAAG,IAAI,CAACqD,MAAK,eAAAC,OAAmC,MAAlBxD,EAAIyD,OAAO/C,GAAa,OAA4B,MAAlBV,EAAIyD,OAAO/C,GAAa,QAA6B,MAAlBV,EAAIyD,OAAO/C,GAAa,WAAc,cAAgBV,EAAIsD,oBAAsB3C,EAAKT,EAAG,MAAM,CAAC8C,YAAY,CAAC,QAAU,SAAShD,EAAIQ,GAAI,CAAC,IAAK,IAAK,IAAK,KAAKS,QAAO,SAAAyC,GAAC,OAAIA,IAAM1D,EAAIyD,OAAO/C,OAAK,SAASQ,GAAG,OAAOhB,EAAG,OAAO,CAACU,IAAIM,EAAEd,YAAY,WAAWE,GAAG,CAAC,MAAQ,SAAS0B,GAAQhC,EAAIiD,SAAStC,GAAOO,EAAGlB,EAAIsD,kBAAoB,QAAQ,CAACpD,EAAG,IAAI,CAACqD,MAAK,eAAAC,OAAuB,MAANtC,EAAY,OAAgB,MAANA,EAAY,QAAiB,MAANA,EAAY,WAAc,iBAAiB,GAAGlB,EAAIkD,OAAhyBhD,EAAG,OAAO,CAACE,YAAY,UAAU,CAACJ,EAAIK,GAAG,IAAIL,EAAI8C,GAAG9C,EAAIyD,OAAO/C,IAAI,YAAwuB,IAAI,GAAGR,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,KAAK,CAACE,YAAY,iBAAiB,CAACJ,EAAIK,GAAG,mBAAmBH,EAAG,YAAY,CAACE,YAAY,cAAcW,MAAM,CAAC,KAAOf,EAAI2D,iBAAiB,MAAQ,WAAW3D,EAAIQ,GAAIR,EAAI2D,kBAAkB,SAASjD,EAAEC,GAAK,OAAOT,EAAG,MAAM,CAACU,IAAID,GAAK,CAACT,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACJ,EAAIK,GAAG,IAAIL,EAAI8C,GAAG9C,EAAIyD,OAAO/C,IAAI,YAAW,IAAI,GAAGR,EAAG,MAAMA,EAAG,MAAM,CAACwB,WAAW,CAAC,CAAClD,KAAK,OAAOmD,QAAQ,SAASC,MAAO5B,EAAI4D,YAAYxC,OAAQU,WAAW,uBAAuB1B,YAAY,aAAa,CAACF,EAAG,KAAK,CAACE,YAAY,iBAAiB,CAACJ,EAAIK,GAAG,2BAA2BH,EAAG,YAAY,CAACE,YAAY,cAAcW,MAAM,CAAC,KAAOf,EAAI4D,YAAY,MAAQ,WAAW5D,EAAIQ,GAAIR,EAAI4D,aAAa,SAASlD,EAAEC,GAAK,OAAOT,EAAG,MAAM,CAACU,IAAID,GAAK,CAACT,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACJ,EAAIK,GAAG,IAAIL,EAAI8C,GAAGpC,GAAG,YAAW,IAAI,SAE1xHa,EAAkB,G,+DCqGtBsC,EAAA,EACAjD,IAAA,cACApC,KAAA,gBAEA,CACAA,KAAA,oBACAoC,IAAA,mBAEA,CACAA,IAAA,MACApC,KAAA,OAEA,CACAoC,IAAA,eACApC,KAAA,qBAEA,CACAA,KAAA,mBACAoC,IAAA,iBAEA,CACAA,IAAA,cACApC,KAAA,iBAEA,CACAoC,IAAA,mBACApC,KAAA,kCAEA,CACAoC,IAAA,kBACApC,KAAA,gDAEA,CACAoC,IAAA,kBACApC,KAAA,iCAGA,CACAoC,IAAA,qBACApC,KAAA,oCAGA,CACAoC,IAAA,oBACApC,KAAA,kDAEA,CACAoC,IAAA,oBACApC,KAAA,oCAIe,GACfsF,WAAA,CACAC,eAGAC,MAAA,qDAEArG,KAAA,kBACAa,KAAA,GACA2D,MAAA,EACAN,cAAA,EACAsB,eAAA,EACAF,SAAA,GAmBAjC,mBAAA,GACAiD,QAAA,kBACAC,KAAA,CACA,kBACA,cAEA,MACA,eAGA,gBAGA,mBACA,kBACA,kBAGA,qBACA,oBACA,qBAEAC,oBAAA,GACA1C,gBAAA,EACA6B,kBAAA,OAKAc,MAAA,CACA,SACAC,QAAA,SAAA1B,GACAA,GACA,KAAAnE,KAAAmE,EAAAnE,KACA,KAAAyE,SAAAN,EAAAM,SACA,KAAAd,MAAAQ,EAAAR,MACA,KAAAgB,cAAAR,EAAAQ,cACA,KAAAtB,cAAAc,EAAAd,eAEA,KAAAA,cAAA,KAAAyC,mBAGAC,WAAA,EACAC,MAAA,GAEA,cACAH,QAAA,SAAA1B,GACAA,IACA,KAAA3B,mBAAA2B,IAGA4B,WAAA,EACAC,MAAA,IAGAC,SAAA,CACAhB,OAAA,WACA,gBAAA7C,GACA,IAAA8D,EAAAb,EAAAc,MAAA,SAAAjE,GAAA,OAAAA,EAAAE,WACA,OAAA8D,IAAAlG,KAAAoC,IAGAyC,SAAA,eAAAuB,EAAA,KACA,gBAAAhE,GAAA,OAAAgE,EAAAX,QAAAY,SAAAjE,KAEA+C,iBAAA,eAAAmB,EAAA,KACA,YAAAZ,KAAAjD,QAAA,SAAAP,GAAA,OAAAoE,EAAA7B,SAAA4B,SAAAnE,OAEAkD,YAAA,eAAAmB,EAAA,KAEA,YAAA/D,mBAAAC,QAAA,SAAAP,GAAA,OAAAqE,EAAA9B,SAAA4B,SAAAnE,QAMAsE,QAAA,CACA1D,cAAA,eAAA2D,EAAA,YAAApI,eAAAC,iBAAAC,MAAA,SAAAC,IAAA,IAAAkI,EAAA,OAAApI,iBAAAM,MAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,WAEA0H,EAAAlC,UAAAkC,EAAAlC,QAAAI,cAAA,CAAA9F,EAAAE,KAAA,QACA,OAAA4H,MAAA,0BAAA9H,EAAA+H,OAAA,qBAKAH,EAAAlC,UAAAkC,EAAAlC,QAAAsC,IAAA,CAAAhI,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,EAEA0H,EAAAK,QAAAC,QAAA,oBAAAL,EAAA7H,EAAAK,KACAwH,EAAA,CAAA7H,EAAAE,KAAA,eAAAF,EAAA+H,OAAA,iBAEAH,EAAAO,MAAA,iBAAAC,GAAAR,EAAAlC,QAAAsC,MAAAhI,EAAAE,KAAA,iBAEA0H,EAAAO,MAAA,iBAAA7E,IAAAsE,EAAAtE,MAAA,yBAAAtD,EAAAS,UAAAd,MAfAH,IAkBAwE,WAAA,WACA,SAAA7C,KAAA,OAAA2G,MAAA,oBACA,IAAAtG,EAAA,CACAL,KAAA,KAAAA,KACA2D,MAAAuD,SAAA,KAAAvD,OACAN,cAAA6D,SAAA,KAAA7D,eACAoB,SAAA,KAAAA,SACAE,cAAA,KAAAA,eAEA,KAAAJ,UAAAlE,EAAAW,gBAAA,KAAAuD,QAAAsC,KAEA,KAAAG,MAAA,aAAA3G,IAEAuE,IAAA,SAAAuC,GAEA,GAAAA,EAAAC,MAAA,CACA,IAEAC,EACAF,EAAAC,MADAC,SAEA,SAAA5C,SAAA7B,QACA,KAAA6B,SAAA6C,OAAAD,EAAA,YAEA,GAAAF,EAAAI,QAAA,CACA,IAEAC,EACAL,EAAAI,QADAC,SAGA,IAAAA,EACA,KAAA/C,SAAA6C,OAAA,KAEA,KAAA7C,SAAA6C,OAAAE,EAAA,KAQA,IAFA,IAAAC,EAAA,GAEAvF,EAAA,EAAAA,EAAA,KAAAuC,SAAA7B,OAAAV,IAAA,CACA,IAAAE,EAAA,KAAAqC,SAAAvC,GACAwF,EAAA,KAAAjD,SAAAvC,EAAA,IAGA,KAAAuD,QAAAY,SAAAjE,IAAA,KAAAqD,QAAAY,SAAAqB,IACA,KAAAjC,QAAAY,SAAAjE,IAAA,IAAAF,GACA,KAAAuD,QAAAY,SAAAjE,IAAAF,IAAA,KAAAuC,SAAA7B,OAAA,IAEA6E,EAAAE,KAAAzF,GAIA,KAAAe,iBAAAwE,EAAA7E,UC9UgV,I,wBCQ5UgF,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,oBCgBA,GACftC,WAAA,CACAuC,WAEA1I,KAAA,kBACA8C,eAAA,GACAO,mBAAA,KAEAgE,QAAA,CAGAzE,OAAA,eAAAqE,EAAA,KACA,KAAAnE,eAAA0F,KAAA,MAEA,KAAAG,WAAA,WACA,IAAAC,EAAA3B,EAAA4B,MAAAzD,QAAA6B,EAAAnE,eAAAW,OAAA,GAAAqF,IAEAF,GACAA,EAAAG,eAAA,CAAAC,SAAA,eAIA/I,kBAAA,eAAAkH,EAAA,YAAAjI,eAAAC,iBAAAC,MAAA,SAAAC,IAAA,OAAAF,iBAAAM,MAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEAb,iBAAA,OAAAoI,EAAArE,eAAApD,EAAAK,KAGAoH,EAAA9D,mBAAA8D,EAAArE,eAAAiC,KAAA,SAAAhC,GAAA,UAAAA,EAAAlC,QAAAnB,EAAAE,KAAA,sBAAAF,EAAAC,KAAA,EAAAD,EAAAQ,GAAAR,EAAA,YAEA,IAAAuJ,MAAAvJ,EAAAQ,IAAA,yBAAAR,EAAAS,UAAAd,EAAA,iBAPAH,IAUAuC,iBAAA,SAAAP,GAAA,IAAAkG,EAAA,YAAAlI,eAAAC,iBAAAC,MAAA,SAAAsB,IAAA,OAAAvB,iBAAAM,MAAA,SAAAkB,GAAA,eAAAA,EAAAhB,KAAAgB,EAAAf,MAAA,cAAAe,EAAAhB,KAAA,EAAAgB,EAAAf,KAAA,EAEAwH,EAAA8B,OAAAC,SAAA,yBAAAxI,EAAAf,KAAA,EACAqB,eAAAC,GAAA,OACA,OAAAkG,EAAAnH,oBAAAU,EAAAf,KAAA,EACAwH,EAAA8B,OAAAC,SAAA,oBAAAxI,EAAAf,KAAA,uBAAAe,EAAAhB,KAAA,GAAAgB,EAAAT,GAAAS,EAAA,YAGA,IAAAsI,MAAAtI,EAAAT,IAAA,yBAAAS,EAAAR,UAAAO,EAAA,kBARAxB,IAYA+C,oBAAA,SAAA6F,GAAA,IAAAR,EAAA,YAAApI,eAAAC,iBAAAC,MAAA,SAAAgC,IAAA,OAAAjC,iBAAAM,MAAA,SAAA4B,GAAA,eAAAA,EAAA1B,KAAA0B,EAAAzB,MAAA,cAAAyB,EAAA1B,KAAA,EAAA0B,EAAAzB,KAAA,EAEA0H,EAAA4B,OAAAC,SAAA,yBAAA9H,EAAAzB,KAAA,EACAgC,eAAAkG,GAAA,OACA,OAAAR,EAAArH,oBAAAoB,EAAAzB,KAAA,EACA0H,EAAA4B,OAAAC,SAAA,oBAAA9H,EAAAzB,KAAA,uBAAAyB,EAAA1B,KAAA,GAAA0B,EAAAnB,GAAAmB,EAAA,YAEA,IAAA4H,MAAA5H,EAAAnB,IAAA,yBAAAmB,EAAAlB,UAAAiB,EAAA,kBAPAlC,IAUAwE,WAAA,SAAAxC,GACAA,GACA,KAAAO,iBAAAP,IAGAyC,cAAA,SAAA1E,GAAA,IAAA6I,EAAA7I,EAAA6I,GAAA9E,EAAA/D,EAAA+D,IACA8E,EACA,KAAA7F,oBAAA6F,GAEA,KAAAhF,eAAAqF,OAAAnF,EAAA,KAIAoG,QAAA,WACA,KAAAnJ,sBCvGgV,ICQ5U,G,UAAY,eACd,EACAmC,EACAwB,GACA,EACA,KACA,WACA,OAIa,e,6CClBf,IAAIyF,EAAI,EAAQ,QACZC,EAAQ,EAAQ,QAAgCtC,KAChDuC,EAAmB,EAAQ,QAE3BC,EAAO,OACPC,GAAc,EAIdD,IAAQ,IAAI9E,MAAM,GAAG8E,IAAM,WAAcC,GAAc,KAI3DJ,EAAE,CAAE/E,OAAQ,QAASoF,OAAO,EAAMC,OAAQF,GAAe,CACvDzC,KAAM,SAAc4C,GAClB,OAAON,EAAMhH,KAAMsH,EAAYrJ,UAAUkD,OAAS,EAAIlD,UAAU,QAAKsJ,MAKzEN,EAAiBC,I,mECrBbpH,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,KAAK,CAACE,YAAY,cAAc,CAACJ,EAAIK,GAAG,kBAAkBH,EAAG,SAAS,CAACE,YAAY,iBAAiBE,GAAG,CAAC,MAAQ,SAAS0B,GAAQ,OAAOhC,EAAIyH,OAAOtB,KAAK,SAAS,CAACnG,EAAIK,GAAG,WAAWH,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,SAAS,CAACE,YAAY,iBAAiBW,MAAM,CAAC,KAAO,UAAUT,GAAG,CAAC,MAAQN,EAAI0H,iBAAiB,CAAC1H,EAAIK,GAAG,gBAAgBH,EAAG,MAAM,CAACE,YAAY,gBAAgBJ,EAAIQ,GAAIR,EAAIyH,QAAQ,SAAS/G,EAAEC,GAAK,OAAOT,EAAG,MAAM,CAACU,IAAID,EAAIP,YAAY,oBAAoB,CAACF,EAAG,IAAI,CAACE,YAAY,uBAAuB,CAACF,EAAG,QAAQ,CAACwB,WAAW,CAAC,CAAClD,KAAK,QAAQmD,QAAQ,UAAUC,MAAO5B,EAAIyH,OAAO9G,GAAMmB,WAAW,gBAAgB1B,YAAY,QAAQW,MAAM,CAAC,KAAO,eAAegB,SAAS,CAAC,MAAS/B,EAAIyH,OAAO9G,IAAOL,GAAG,CAAC,MAAQ,SAAS0B,GAAWA,EAAOC,OAAOC,WAAiBlC,EAAI2H,KAAK3H,EAAIyH,OAAQ9G,EAAKqB,EAAOC,OAAOL,aAAa1B,EAAG,IAAI,CAACE,YAAY,WAAW,CAACF,EAAG,IAAI,CAACE,YAAY,SAASE,GAAG,CAAC,MAAQ,SAAS0B,GAAQ,OAAOhC,EAAIyH,OAAO3B,OAAOnF,EAAK,MAAM,CAACT,EAAG,IAAI,CAACE,YAAY,iCAAgC,MAEpqCmB,EAAkB,G,oCC6BP,GACf5D,KAAA,kBACA8J,OAAA,KAEAzC,QAAA,CACA4C,gBAAA,eAAAhD,EAAA,YAAA/H,eAAAC,iBAAAC,MAAA,SAAAC,IAAA,IAAAW,EAAA,OAAAb,iBAAAM,MAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACAsK,iBAAA,OAAAlK,EAAAN,EAAAK,KACAkH,EAAA6C,OAAA9J,EAAA8J,OAAA,wBAAApK,EAAAS,UAAAd,MAFAH,IAIA6K,eAAA,eAAA5C,EAAA,YAAAjI,eAAAC,iBAAAC,MAAA,SAAAsB,IAAA,IAAAQ,EAAA,OAAA/B,iBAAAM,MAAA,SAAAkB,GAAA,eAAAA,EAAAhB,KAAAgB,EAAAf,MAAA,OAIA,OAFAsB,EAAA,CACA4I,OAAA3C,EAAA2C,QACAnJ,EAAAf,KAAA,EACAuH,EAAA+B,OAAAC,SAAA,yBAAAxI,EAAAf,KAAA,EACAuK,eAAAjJ,GAAA,cAAAP,EAAAf,KAAA,EACAuH,EAAA+B,OAAAC,SAAA,oBACAhC,EAAA8C,kBAAA,wBAAAtJ,EAAAR,UAAAO,MARAxB,KAWAkK,QAAA,WACA,KAAAa,oBCpD4W,I,wBCQxWxB,EAAY,eACd,EACArG,EACAwB,GACA,EACA,KACA,KACA,MAIa,aAAA6E,E,kEClBf,IAAIY,EAAI,EAAQ,QACZtE,EAAM,EAAQ,QACdqF,EAAU,EAAQ,QAItBf,EAAE,CAAE/E,OAAQ,WAAYoF,OAAO,EAAMW,MAAM,EAAMV,OAAQS,GAAW,CAClErF,IAAKA,K,kCCRP,W,kCCCA,IAAIH,EAAO,EAAQ,QACf0F,EAAY,EAAQ,QACpBC,EAAW,EAAQ,QACnBC,EAAoB,EAAQ,QAC5BC,EAAsB,EAAQ,QAC9BC,EAA+B,EAAQ,QAEvCC,EAAgBF,GAAoB,WACtC,IAAIG,EAAWtI,KAAKsI,SAChBC,EAASN,EAAS3F,EAAKtC,KAAK1C,KAAMgL,IAClCE,EAAOxI,KAAKwI,OAASD,EAAOC,KAChC,IAAKA,EAAM,OAAOJ,EAA6BE,EAAUtI,KAAKyI,OAAQ,CAACF,EAAO5G,MAAO3B,KAAK0I,YAAY,MAKxGC,EAAOC,QAAU,SAAaH,GAG5B,OAFAR,EAASjI,MACTgI,EAAUS,GACH,IAAIJ,EAAcH,EAAkBlI,MAAO,CAChDyI,OAAQA,M,sLCnBCI,EAAoB7M,eAAGC,MAAAC,eAAA,+GAavB4M,EAAmB9M,eAAGI,MAAAF,eAAA,gJCZtB0L,EAAqB,WAC9B,OAAO,IAAIlL,QAAO,eAAAC,EAAAC,eAAAC,iBAAAC,MAAC,SAAAC,EAAOC,EAASC,GAAM,IAAAC,EAAA,OAAAL,iBAAAM,MAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEfC,OAAaC,MAAM,CACjCA,MAAOqL,IACT,OAFI3L,EAAGE,EAAAK,KAGTT,EAAQE,EAAIQ,KAAKiK,iBAAgBvK,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAQ,GAAAR,EAAA,YAEjCH,EAAMG,EAAAQ,IAAG,yBAAAR,EAAAS,UAAAd,EAAA,kBAEhB,gBAAAe,EAAAC,GAAA,OAAApB,EAAAqB,MAAA,KAAAC,YATiB,KAYT4J,EAAoB,SAACjJ,GAC9B,OAAO,IAAIlC,QAAO,eAAAyB,EAAAvB,eAAAC,iBAAAC,MAAC,SAAAsB,EAAOpB,EAASC,GAAM,IAAAC,EAAA,OAAAL,iBAAAM,MAAA,SAAAkB,GAAA,eAAAA,EAAAhB,KAAAgB,EAAAf,MAAA,cAAAe,EAAAhB,KAAA,EAAAgB,EAAAf,KAAA,EAEfC,OAAaC,MAAM,CACjCA,MAAOsL,EACPxK,UAAWM,IACb,OAHI1B,EAAGmB,EAAAZ,KAITT,EAAQE,EAAIQ,KAAKmK,mBAAkBxJ,EAAAf,KAAA,gBAAAe,EAAAhB,KAAA,EAAAgB,EAAAT,GAAAS,EAAA,YAEnCpB,EAAMoB,EAAAT,IAAG,yBAAAS,EAAAR,UAAAO,EAAA,kBAEhB,gBAAAK,EAAAC,GAAA,OAAAP,EAAAH,MAAA,KAAAC,YAViB,M,kCChBtB,IAAI8I,EAAI,EAAQ,QACZgC,EAAO,EAAQ,QAAgCtG,IAC/CuG,EAA+B,EAAQ,QAEvCC,EAAsBD,EAA6B,OAKvDjC,EAAE,CAAE/E,OAAQ,QAASoF,OAAO,EAAMC,QAAS4B,GAAuB,CAChExG,IAAK,SAAa6E,GAChB,OAAOyB,EAAK/I,KAAMsH,EAAYrJ,UAAUkD,OAAS,EAAIlD,UAAU,QAAKsJ","file":"js/getstart.4e8458c9.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./company-custom-field.vue?vue&type=style&index=0&id=04831aae&prod&lang=scss\"","import gql from 'graphql-tag'\r\n\r\nexport const GET_CUSTOM_FORMULAS = gql`\r\n\r\n    {\r\n        getCustomFormulas {\r\n          _id\r\n            name\r\n            formulas\r\n            isFinalNetPay\r\n            round\r\n            sortByFormula\r\n        }\r\n    }\r\n\r\n`\r\n\r\nexport const GET_CUSTOM_FORMULAS_BY_NAME = gql`\r\n\r\nquery(\r\n  $name: String!\r\n) {\r\n  getCustomFormulasByName(name: $name)\r\n}\r\n\r\n`\r\n\r\nexport const ADD_CUSTOM_FORMULA = gql`\r\n\r\nmutation (\r\n  $info: AddCustomFormulaInput!\r\n \r\n) {\r\n  addCustomFormula(\r\n    info: $info\r\n  )\r\n}\r\n\r\n\r\n`\r\n\r\n\r\n\r\n\r\nexport const DELETE_CUSTOM_FORMULA = gql`\r\n\r\nmutation (\r\n  $customFormulaId: ID!\r\n \r\n) {\r\n  deleteCustomFormula(\r\n    customFormulaId: $customFormulaId\r\n  )\r\n}\r\n\r\n\r\n`","import {apolloClient} from \"@/services/apollo-client\";\r\nimport {GET_CUSTOM_FORMULAS, GET_CUSTOM_FORMULAS_BY_NAME, ADD_CUSTOM_FORMULA, DELETE_CUSTOM_FORMULA} from \"@/graphql/CustomFormula\";\r\n\r\nexport const getCustomFormulasApi = () => {\r\n    return new Promise(async (resolve, reject) => {\r\n        try {\r\n            const res = await apolloClient.query({\r\n                query: GET_CUSTOM_FORMULAS,\r\n            })\r\n            resolve(res.data.getCustomFormulas)\r\n        } catch (e) {\r\n            reject(e)\r\n        }\r\n    })\r\n}\r\n\r\nexport const getCustomFormulasByNameApi = () => {\r\n    return new Promise(async (resolve, reject) => {\r\n        try {\r\n            const res = await apolloClient.query({\r\n                query: GET_CUSTOM_FORMULAS_BY_NAME,\r\n                variables: {\r\n                    name: 'Pension Fund'\r\n                }\r\n            })\r\n            resolve(res.data.getCustomFormulasByName)\r\n        } catch (e) {\r\n            reject(e)\r\n        }\r\n    })\r\n}\r\n\r\nexport const addCustomFormulaApi = (form) => {\r\n    return new Promise(async (resolve, reject) => {\r\n        try {\r\n            const res = await apolloClient.mutate({\r\n                mutation: ADD_CUSTOM_FORMULA,\r\n                variables: {\r\n                    info: form\r\n                }\r\n\r\n            })\r\n            resolve(res.data.addCustomFormula)\r\n        } catch (e) {\r\n            reject(e)\r\n        }\r\n    })\r\n}\r\n\r\n\r\nexport const deleteCustomFormulaApi = (customFormulaId) => {\r\n    return new Promise(async (resolve, reject) => {\r\n        try {\r\n            const res = await apolloClient.mutate({\r\n                mutation: DELETE_CUSTOM_FORMULA,\r\n                variables: {\r\n                    customFormulaId\r\n                }\r\n\r\n            })\r\n            resolve(res.data.deleteCustomFormula)\r\n        } catch (e) {\r\n            reject(e)\r\n        }\r\n    })\r\n}\r\n\r\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Formula.vue?vue&type=style&index=0&id=5d7de5a0&prod&lang=scss&scoped=true\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"page-container\"},[_c('div',{staticClass:\"page-header\"},[_c('div',{staticClass:\"header-start\"},[_c('h3',{staticClass:\"page-title\"},[_vm._v(\"Custom Fomula\")]),_c('a',{staticClass:\"button primary\",on:{\"click\":_vm.addArr}},[_c('i',{staticClass:\"fas fa-plus\"}),_vm._v(\" Add\")])]),_c('div',{staticClass:\"header-end\"})]),_c('div',{staticClass:\"page-content no-padding\"},_vm._l((_vm.customFormulas),function(i,idx){return _c('Formula',{key:idx,ref:\"formula\",refInFor:true,attrs:{\"formula\":i,\"formulaNames\":_vm.customFormulaNames.filter((o, index) => index < idx),\"lastSortByFormula\":_vm.customFormulas.length - 1,\"idx\":idx},on:{\"submitForm\":_vm.submitForm,\"deleteFormula\":_vm.deleteFormula}})}),1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"group\",style:(_vm.isFormulaError ? `border: 2px solid red;` : ``)},[_c('span',{staticClass:\"del\",on:{\"click\":_vm.deleteFormula}},[_c('i',{staticClass:\"fa-solid fa-trash\"})]),_c('div',{staticClass:\"formula margin-bottom-30\"},[_c('div',[_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"Sort By Formula - \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.sortByFormula),expression:\"sortByFormula\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.sortByFormula)},on:{\"input\":function($event){if($event.target.composing)return;_vm.sortByFormula=$event.target.value}}})]),_c('div',{staticClass:\"formula-header\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],staticClass:\"section-title\",attrs:{\"type\":\"text\",\"placeholder\":\"Group Title\"},domProps:{\"value\":(_vm.name)},on:{\"input\":function($event){if($event.target.composing)return;_vm.name=$event.target.value}}}),_c('fieldset',[_c('div',{staticClass:\"select\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.round),expression:\"round\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.round=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',[_vm._v(\"0\")]),_c('option',[_vm._v(\"1\")]),_c('option',[_vm._v(\"2\")])])])]),_c('button',{staticClass:\"button primary\",on:{\"click\":_vm.submitForm}},[_vm._v(_vm._s(_vm.formula ? 'Update' : 'Add'))])]),_c('p',{staticStyle:{\"font-size\":\"10px\"}},[_vm._v(\"Generate code: \"+_vm._s(_vm.formulas))]),_c('br'),(_vm.isFormulaError)?_c('p',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"Formula Error\")]):_vm._e(),(_vm.isFinalNetPay)?_c('button',[_vm._v(\"Is NetPay\")]):_c('button',{on:{\"click\":function($event){_vm.isFinalNetPay = true}}},[_vm._v(\"Is Not NetPay\")]),_c('draggable',{staticClass:\"formula-box\",style:(_vm.isFormulaError ? `border: 2px solid red;` : ``),attrs:{\"list\":_vm.formulas,\"group\":\"people\"},on:{\"change\":_vm.log}},_vm._l((_vm.formulas),function(i,idx){return _c('div',{key:idx},[(!_vm.isSymbol(i))?_c('span',{staticClass:\"handle\"},[_vm._v(\" \"+_vm._s(_vm.rename(i))+\" \")]):_c('div',[_c('span',{staticClass:\"operator\",on:{\"click\":function($event){_vm.openSymbolByIndex === idx ? _vm.openSymbolByIndex = null : _vm.openSymbolByIndex = idx}}},[_c('i',{class:`fa-solid fa-${ _vm.rename(i) === '+' ? 'plus' :  _vm.rename(i) === '-' ? 'minus' :  _vm.rename(i) === '*' ? 'multiply' :  'divide'}`})]),(_vm.openSymbolByIndex === idx)?_c('div',{staticStyle:{\"display\":\"flex\"}},_vm._l((['+', '-', '*', '/'].filter(p => p !== _vm.rename(i))),function(o){return _c('span',{key:o,staticClass:\"operator\",on:{\"click\":function($event){_vm.formulas[idx] = o; _vm.openSymbolByIndex = null}}},[_c('i',{class:`fa-solid fa-${ o === '+' ? 'plus' :  o === '-' ? 'minus' :  o === '*' ? 'multiply' :  'divide'}`})])}),0):_vm._e()])])}),0)],1),_c('div',{staticClass:\"allowance\"},[_c('h1',{staticClass:\"section-title\"},[_vm._v(\"System Fields\")]),_c('draggable',{staticClass:\"formula-box\",attrs:{\"list\":_vm.keysNotInFormula,\"group\":\"people\"}},_vm._l((_vm.keysNotInFormula),function(i,idx){return _c('div',{key:idx},[_c('span',{staticClass:\"item\"},[_vm._v(\" \"+_vm._s(_vm.rename(i))+\" \")])])}),0)],1),_c('br'),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.formulaKeys.length),expression:\"formulaKeys.length\"}],staticClass:\"allowance\"},[_c('h1',{staticClass:\"section-title\"},[_vm._v(\"Custom Formula Fields\")]),_c('draggable',{staticClass:\"formula-box\",attrs:{\"list\":_vm.formulaKeys,\"group\":\"people\"}},_vm._l((_vm.formulaKeys),function(i,idx){return _c('div',{key:idx},[_c('span',{staticClass:\"item\"},[_vm._v(\" \"+_vm._s(i)+\" \")])])}),0)],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <div class=\"group\" :style=\"isFormulaError ? `border: 2px solid red;` : ``\">\r\n            <span @click=\"deleteFormula\" class=\"del\"><i class=\"fa-solid fa-trash\"></i></span>\r\n            <div class=\"formula margin-bottom-30\">\r\n    \r\n                <div>\r\n                    <label for=\"\">Sort By Formula - </label>\r\n                    <input type=\"text\" v-model=\"sortByFormula\">\r\n                </div>\r\n                <div class=\"formula-header\">\r\n    \r\n                    <input v-model=\"name\" type=\"text\" class=\"section-title\" placeholder=\"Group Title\" />\r\n    \r\n                    <fieldset>\r\n                        <div class=\"select\">\r\n                            <select v-model=\"round\">\r\n                    <option>0</option>\r\n                    <option>1</option>\r\n                    <option>2</option>\r\n                  </select>\r\n                        </div>\r\n                    </fieldset>\r\n    \r\n    \r\n    \r\n    \r\n                    <button class=\"button primary\" @click=\"submitForm\">{{formula ? 'Update' : 'Add'}}</button>\r\n                </div>\r\n                <p style=\"font-size: 10px\">Generate code: {{ formulas }}</p>\r\n                <br />\r\n                <p v-if=\"isFormulaError\" style=\"color: red\">Formula Error</p>\r\n    \r\n                <button v-if=\"isFinalNetPay\">Is NetPay</button>\r\n                <button @click=\"isFinalNetPay = true\" v-else>Is Not NetPay</button>\r\n    \r\n                <draggable class=\"formula-box\" :list=\"formulas\" group=\"people\" @change=\"log\" :style=\"isFormulaError ? `border: 2px solid red;` : ``\">\r\n                    <div v-for=\"(i, idx) in formulas\" :key=\"idx\">\r\n                        <span v-if=\"!isSymbol(i)\" class=\"handle\">\r\n                  {{ rename(i) }}\r\n                </span>\r\n                        <div v-else>\r\n    \r\n                            <span @click=\"openSymbolByIndex === idx ? openSymbolByIndex = null : openSymbolByIndex = idx\" class=\"operator\">\r\n                        <i :class=\"`fa-solid fa-${ rename(i) === '+' ? 'plus' :  rename(i) === '-' ? 'minus' :  rename(i) === '*' ? 'multiply' :  'divide'}`\"></i>\r\n                    </span>\r\n    \r\n                            <div style=\"display: flex\" v-if=\"openSymbolByIndex === idx\">\r\n    \r\n    \r\n                                <span @click=\"formulas[idx] = o; openSymbolByIndex = null\" v-for=\"o in ['+', '-', '*', '/'].filter(p => p !== rename(i))\" :key=\"o\" class=\"operator\">\r\n                        <i :class=\"`fa-solid fa-${ o === '+' ? 'plus' :  o === '-' ? 'minus' :  o === '*' ? 'multiply' :  'divide'}`\"></i>\r\n                    </span>\r\n    \r\n    \r\n    \r\n                            </div>\r\n    \r\n                        </div>\r\n                    </div>\r\n                </draggable>\r\n    \r\n    \r\n    \r\n    \r\n                <!-- <li>earningBeforeTax</li>\r\n                        <li class=\"operator\"><i class=\"fa-solid fa-plus\"></i></li>\r\n                        <li>earningBeforeTax</li> -->\r\n            </div>\r\n            <div class=\"allowance\">\r\n                <h1 class=\"section-title\">System Fields</h1>\r\n                <draggable class=\"formula-box\" :list=\"keysNotInFormula\" group=\"people\">\r\n                    <div v-for=\"(i, idx) in keysNotInFormula\" :key=\"idx\">\r\n                        <span class=\"item\">\r\n                            {{rename(i)}}\r\n                        </span>\r\n                    </div>\r\n    \r\n                </draggable>\r\n            </div>\r\n            <br>\r\n  \r\n            <div v-show=\"formulaKeys.length\" class=\"allowance\">\r\n                <h1 class=\"section-title\">Custom Formula Fields</h1>\r\n                <draggable class=\"formula-box\" :list=\"formulaKeys\" group=\"people\">\r\n                    <div v-for=\"(i, idx) in formulaKeys\" :key=\"idx\">\r\n                        <span class=\"item\">\r\n                            {{i}}\r\n                        </span>\r\n                    </div>\r\n    \r\n                </draggable>\r\n            </div>\r\n    \r\n        </div>\r\n    \r\n    \r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport draggable from \"vuedraggable\";\r\n\r\nconst renameKeys = [{\r\n        key: \"basicSalary\",\r\n        name: \"Basic Salary\",\r\n    },\r\n    {\r\n        name: \"This Month Salary\",\r\n        key: 'thisMonthSalary',\r\n    },\r\n    {\r\n        key: \"tax\",\r\n        name: \"Tax\",\r\n    },\r\n    {\r\n        key: \"ssoPaidByEmp\",\r\n        name: \"Employee SSO 5.5%\",\r\n    },\r\n    {\r\n        name: \"Total Due as Tax\",\r\n        key: 'totalDueAsTax',\r\n    },\r\n    {\r\n        key: \"finalNetPay\",\r\n        name: \"Final Net Pay\",\r\n    },\r\n    {\r\n        key: 'earningBeforeSso',\r\n        name: 'Earning Before SSO Calculation',\r\n    },\r\n    {\r\n        key: 'earningAfterSso',\r\n        name: 'Earning After SSO and Before TAX Calculation',\r\n    },\r\n    {\r\n        key: 'earningAfterTax',\r\n        name: 'Earning After TAX Calculation',\r\n    },\r\n\r\n    {\r\n        key: 'deductionBeforeSso',\r\n        name: 'Deduction Before SSO Calculation',\r\n\r\n    },\r\n    {\r\n        key: 'deductionAfterSso',\r\n        name: 'Deduction After SSO and Before TAX Calculation',\r\n    },\r\n    {\r\n        key: 'deductionAfterTax',\r\n        name: 'Deduction After TAX Calculation',\r\n    },\r\n];\r\n\r\nexport default {\r\n    components: {\r\n        draggable,\r\n    },\r\n\r\n    props: ['formula', 'lastSortByFormula', 'idx', 'formulaNames'],\r\n\r\n    data: () => ({\r\n        name: '',\r\n        round: 0,\r\n        sortByFormula: 0,\r\n        isFinalNetPay: false,\r\n        formulas: [\r\n            // \"thisMonthSalary\",\r\n            // \"+\",\r\n            // \"earningBeforeSso\",\r\n            // \"-\",\r\n            // \"deductionBeforeSso\",\r\n            // \"-\",\r\n            // \"ssoPaidByEmp\",\r\n            // \"+\",\r\n            // \"earningAfterSso\",\r\n            // '-',\r\n            // \"deductionBeforeSso\",\r\n            // \"-\",\r\n            // \"tax\",\r\n            // \"+\",\r\n            // \"earningAfterTax\",\r\n            // \"-\",\r\n            // \"deductionAfterTax\"\r\n        ],\r\n        customFormulaNames: [],\r\n        symbols: [\"+\", \"-\", \"*\", \"/\"],\r\n        keys: [\r\n                      'thisMonthSalary',\r\n            \"basicSalary\",\r\n\r\n            \"tax\",\r\n            \"ssoPaidByEmp\",\r\n            // \"finalNetPay\",\r\n            // 'ssoPaidByCom',\r\n            \"totalDueAsTax\",\r\n\r\n\r\n            \"earningBeforeSso\",\r\n            \"earningAfterSso\",\r\n            \"earningAfterTax\",\r\n\r\n\r\n            \"deductionBeforeSso\",\r\n            \"deductionAfterSso\",\r\n            \"deductionAfterTax\",\r\n        ],\r\n        formulasWithSymbols: [],\r\n        isFormulaError: false,\r\n        openSymbolByIndex: null,\r\n\r\n\r\n\r\n    }),\r\n    watch: {\r\n        'formula': {\r\n            handler(val) {\r\n                if (val) {\r\n                    this.name = val.name\r\n                    this.formulas = val.formulas\r\n                    this.round = val.round\r\n                    this.isFinalNetPay = val.isFinalNetPay\r\n                    this.sortByFormula = val.sortByFormula\r\n                } else {\r\n                    this.sortByFormula = this.lastSortByFormula\r\n                }\r\n            },\r\n            immediate: true,\r\n            deep: true\r\n        },\r\n        'formulaNames': {\r\n            handler(val) {\r\n                if (val) {\r\n                    this.customFormulaNames = val\r\n                }\r\n            },\r\n            immediate: true,\r\n            deep: true\r\n        }\r\n    },\r\n    computed: {\r\n        rename() {\r\n            return (key) => {\r\n                const obj = renameKeys.find((i) => i.key === key);\r\n                return obj ? obj.name : key;\r\n            };\r\n        },\r\n        isSymbol() {\r\n            return (key) => this.symbols.includes(key);\r\n        },\r\n        keysNotInFormula() {\r\n            return this.keys.filter((i) => !this.formulas.includes(i));\r\n        },\r\n        formulaKeys() {\r\n          // if(this.formula) {\r\n            return this.customFormulaNames.filter(i => !this.formulas.includes(i))\r\n          // }\r\n           // return this.customFormulaNames\r\n            //.filter(i => !this.formulas.includes(i))\r\n        }\r\n    },\r\n    methods: {\r\n        async deleteFormula() {\r\n\r\n            if (this.formula && this.formula.isFinalNetPay) {\r\n                alert('You cant delete netpay')\r\n                return\r\n            }\r\n\r\n\r\n            if (this.formula && this.formula._id) {\r\n\r\n                const isConfirmed = await this.$dialog.confirm(\"Sure ?\");\r\n                if (!isConfirmed) return\r\n\r\n                this.$emit('deleteFormula', { id: this.formula._id })\r\n            } else {\r\n                this.$emit('deleteFormula', { idx: this.idx })\r\n            }\r\n        },\r\n        submitForm() {\r\n          if(!this.name) return alert('Name is required')\r\n            const form = {\r\n                name: this.name,\r\n                round: parseInt(this.round),\r\n                sortByFormula: parseInt(this.sortByFormula),\r\n                formulas: this.formulas,\r\n                isFinalNetPay: this.isFinalNetPay\r\n            }\r\n            if (this.formula) form.customFormulaId = this.formula._id\r\n\r\n            this.$emit('submitForm', form)\r\n        },\r\n        log(item) {\r\n            // Check add and remove\r\n            if (item.added) {\r\n                const {\r\n                    // element,\r\n                    newIndex,\r\n                } = item.added;\r\n                if (this.formulas.length !== 1) {\r\n                    this.formulas.splice(newIndex, 0, \"+\");\r\n                }\r\n            } else if (item.removed) {\r\n                const {\r\n                    //element,\r\n                    oldIndex,\r\n                } = item.removed;\r\n\r\n                if (oldIndex === 0) {\r\n                    this.formulas.splice(0, 1);\r\n                } else {\r\n                    this.formulas.splice(oldIndex - 1, 1);\r\n                }\r\n            }\r\n\r\n            // Array validator\r\n\r\n            const errors = [];\r\n\r\n            for (let i = 0; i < this.formulas.length; i++) {\r\n                const key = this.formulas[i];\r\n                const nextKey = this.formulas[i + 1];\r\n\r\n                if (\r\n                    (this.symbols.includes(key) && this.symbols.includes(nextKey)) ||\r\n                    (this.symbols.includes(key) && i === 0) ||\r\n                    (this.symbols.includes(key) && i === this.formulas.length - 1)\r\n                ) {\r\n                    errors.push(i);\r\n                }\r\n            }\r\n\r\n            this.isFormulaError = errors.length ? true : false;\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.group {\r\n    margin-bottom: 30px;\r\n    border-radius: 5px;\r\n    padding: 30px;\r\n    background-color: $light-bg-color;\r\n    position: relative;\r\n    border: 1px solid $border-color;\r\n    .del {\r\n        position: absolute;\r\n        top: 0;\r\n        right: 0;\r\n        width: 35px;\r\n        height: 35px;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        background-color: rgba($dark-grey-color, 0.1);\r\n        border-radius: 0 0 0 5px;\r\n        cursor: pointer;\r\n        i {\r\n            color: $alert-color;\r\n        }\r\n    }\r\n    .formula {\r\n        .formula-header {\r\n            display: flex;\r\n            align-items: flex-end;\r\n            margin-bottom: 20px;\r\n            input {\r\n                height: 100%;\r\n            }\r\n            .select {\r\n                text-align: center;\r\n                &::after {\r\n                    display: none;\r\n                }\r\n                select {\r\n                    padding-left: 10px;\r\n                    padding-right: 10px;\r\n                    text-align: center;\r\n                    option {\r\n                        text-align: center;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        .formula-box {\r\n            background-color: $light-grey-color;\r\n            padding: 20px;\r\n            display: flex;\r\n            align-items: center;\r\n            flex-wrap: wrap;\r\n            gap: 10px;\r\n            border: 1px solid $border-color;\r\n            border-radius: 5px;\r\n            div>span {\r\n                cursor: pointer;\r\n                background-color: $primary-color;\r\n                color: #fff;\r\n                @include sm-font;\r\n                margin: 0;\r\n                border-radius: 5px;\r\n                padding: 8px 15px;\r\n                display: flex;\r\n                align-items: center;\r\n            }\r\n            .operator {\r\n                background-color: rgba($grey-color, 0.5);\r\n                color: $font-color;\r\n                position: relative;\r\n                i {\r\n                    @include sm-font;\r\n                }\r\n                ul {\r\n                    position: absolute;\r\n                    display: flex;\r\n                    flex-direction: column;\r\n                    gap: 3px;\r\n                    top: 43px;\r\n                    left: 0;\r\n                    li {\r\n                        display: inline-block;\r\n                        background-color: $grey-color !important;\r\n                        color: $font-color;\r\n                    }\r\n                }\r\n            }\r\n            .operatorX {\r\n                background-color: rgba($grey-color, 0.5);\r\n                color: $font-color;\r\n                position: relative;\r\n                i {\r\n                    @include sm-font;\r\n                }\r\n                ul {\r\n                    position: absolute;\r\n                    display: flex;\r\n                    flex-direction: column;\r\n                    gap: 3px;\r\n                    top: 43px;\r\n                    left: 0;\r\n                    li {\r\n                        display: inline-block;\r\n                        background-color: $grey-color !important;\r\n                        color: $font-color;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    } // fomula\r\n    .allowance {\r\n        .formula-box {\r\n            display: flex;\r\n            align-items: center;\r\n            flex-wrap: wrap;\r\n            gap: 10px;\r\n            div>span {\r\n                cursor: pointer;\r\n                background-color: $light-grey-color;\r\n                @include sm-font;\r\n                margin: 0;\r\n                border-radius: 5px;\r\n                display: flex;\r\n                align-items: center;\r\n                padding: 8px 15px;\r\n                &.used {\r\n                    background-color: $warning-color;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n.section-title {\r\n    width: 50%;\r\n    font-weight: 700;\r\n    @include md-font;\r\n    border-width: 0 0 1px 0;\r\n    background-color: transparent !important;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Formula.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Formula.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Formula.vue?vue&type=template&id=5d7de5a0&scoped=true\"\nimport script from \"./Formula.vue?vue&type=script&lang=js\"\nexport * from \"./Formula.vue?vue&type=script&lang=js\"\nimport style0 from \"./Formula.vue?vue&type=style&index=0&id=5d7de5a0&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5d7de5a0\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"page-container\">\r\n        <div class=\"page-header\">\r\n            <div class=\"header-start\">\r\n                <h3 class=\"page-title\">Custom Fomula</h3>\r\n                <a \r\n             @click=\"addArr\"\r\n                class=\"button primary\"><i class=\"fas fa-plus\"></i> Add</a>\r\n            </div>\r\n            <div class=\"header-end\"></div>\r\n        </div>\r\n    \r\n        <div class=\"page-content no-padding\" >\r\n           <Formula \r\n                v-for=\"(i, idx) in customFormulas\"\r\n                :formula=\"i\"\r\n                :formulaNames=\"customFormulaNames.filter((o, index) => index < idx)\"\r\n                :lastSortByFormula=\"customFormulas.length - 1\"\r\n                :idx=\"idx\"\r\n                :key=\"idx\"\r\n                ref=\"formula\"\r\n                @submitForm=\"submitForm\"\r\n                @deleteFormula=\"deleteFormula\"\r\n            />\r\n\r\n        </div>\r\n        \r\n\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Formula from '@/components/Formula'\r\nimport {getCustomFormulasApi, addCustomFormulaApi, deleteCustomFormulaApi} from '@/apis/custom-formula-api'\r\nexport default {\r\n components: {\r\n   Formula\r\n },\r\n data: () => ({\r\n   customFormulas: [],\r\n   customFormulaNames: []  \r\n }),\r\n methods: {\r\n    //    goto(refName) {\r\n    // }\r\n     addArr() {\r\n        this.customFormulas.push(null)\r\n\r\n       this.$nextTick(() => {\r\n            const el = this.$refs.formula[this.customFormulas.length - 1].$el;\r\n\r\n            if (el) {\r\n                el.scrollIntoView({ behavior: \"smooth\" });\r\n            }\r\n       })\r\n     }, \r\n    async getCustomFormulas() {\r\n    try {\r\n          this.customFormulas = await getCustomFormulasApi()\r\n                \r\n       // this.customFormulaNames  = this.customFormulas.filter(i => u)\r\n        this.customFormulaNames =  this.customFormulas.map(i => '#' + i.name) \r\n      } catch(e) {\r\n        throw new Error(e)\r\n      }\r\n    },\r\n    async addCustomFormula(form) {\r\n      try {\r\n        await this.$store.dispatch(\"loading\");\r\n        await addCustomFormulaApi(form)\r\n        this.getCustomFormulas()\r\n        await this.$store.dispatch(\"completed\");\r\n       \r\n      }catch(e) {\r\n        throw new Error(e)\r\n      }\r\n    },\r\n\r\n    async deleteCustomFormula(id) {\r\n   try {\r\n        await this.$store.dispatch(\"loading\");\r\n        await deleteCustomFormulaApi(id)\r\n        this.getCustomFormulas()\r\n        await this.$store.dispatch(\"completed\");\r\n      }catch(e) {\r\n        throw new Error(e)\r\n      }\r\n    },\r\n    submitForm(form) {\r\n        if(form) {\r\n            this.addCustomFormula(form)\r\n        }\r\n    },\r\n    deleteFormula({ id, idx }) {\r\n        if(id) {\r\n            this.deleteCustomFormula(id)\r\n        }else  {\r\n            this.customFormulas.splice(idx, 1)\r\n        }   \r\n    }\r\n },\r\n created() {\r\n     this.getCustomFormulas()\r\n }\r\n\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.group {\r\n    margin-bottom: 30px;\r\n    border-radius: 5px;\r\n    padding: 30px;\r\n    background-color: $light-bg-color;\r\n    position: relative;\r\n    border: 1px solid $border-color;\r\n    .del {\r\n        position: absolute;\r\n        top: 0;\r\n        right: 0;\r\n        width: 35px;\r\n        height: 35px;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        background-color: rgba($dark-grey-color, 0.1);\r\n        border-radius: 0 0 0 5px;\r\n        cursor: pointer;\r\n        i {\r\n            color: $alert-color;\r\n        }\r\n    }\r\n    .formula {\r\n        .formula-header {\r\n            display: flex;\r\n            align-items: flex-end;\r\n            margin-bottom: 20px;\r\n            input {\r\n                height: 100%;\r\n            }\r\n            .select {\r\n                text-align: center;\r\n                &::after {\r\n                    display: none;\r\n                }\r\n                select {\r\n                    padding-left: 10px;\r\n                    padding-right: 10px;\r\n                    text-align: center;\r\n                    option {\r\n                        text-align: center;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        .formula-box {\r\n            background-color: $light-grey-color;\r\n            padding: 20px;\r\n            display: flex;\r\n            align-items: center;\r\n            flex-wrap: wrap;\r\n            gap: 10px;\r\n            border: 1px solid $border-color;\r\n            border-radius: 5px;\r\n            div>span {\r\n                cursor: pointer;\r\n                background-color: $primary-color;\r\n                color: #fff;\r\n                @include sm-font;\r\n                margin: 0;\r\n                border-radius: 5px;\r\n                padding: 8px 15px;\r\n                display: flex;\r\n                align-items: center;\r\n            }\r\n            .operator {\r\n                background-color: rgba($grey-color, 0.5);\r\n                color: $font-color;\r\n                position: relative;\r\n                i {\r\n                    @include sm-font;\r\n                }\r\n                ul {\r\n                    position: absolute;\r\n                    display: flex;\r\n                    flex-direction: column;\r\n                    gap: 3px;\r\n                    top: 43px;\r\n                    left: 0;\r\n                    li {\r\n                        display: inline-block;\r\n                        background-color: $grey-color !important;\r\n                        color: $font-color;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    } // fomula\r\n    .allowance {\r\n        .formula-box {\r\n            display: flex;\r\n            align-items: center;\r\n            flex-wrap: wrap;\r\n            gap: 10px;\r\n            div>span {\r\n                cursor: pointer;\r\n                background-color: $light-grey-color;\r\n                @include sm-font;\r\n                margin: 0;\r\n                border-radius: 5px;\r\n                display: flex;\r\n                align-items: center;\r\n                padding: 8px 15px;\r\n                &.used {\r\n                    background-color: $warning-color;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n.section-title {\r\n    width: 50%;\r\n    font-weight: 700;\r\n    @include md-font;\r\n    border-width: 0 0 1px 0;\r\n    background-color: transparent !important;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Formula.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Formula.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Formula.vue?vue&type=template&id=54069aa3&scoped=true\"\nimport script from \"./Formula.vue?vue&type=script&lang=js\"\nexport * from \"./Formula.vue?vue&type=script&lang=js\"\nimport style0 from \"./Formula.vue?vue&type=style&index=0&id=54069aa3&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"54069aa3\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\n// eslint-disable-next-line es/no-array-prototype-find -- testing\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"page-container\"},[_c('div',{staticClass:\"page-header\"},[_c('div',{staticClass:\"header-start\"},[_c('h3',{staticClass:\"page-title\"},[_vm._v(\"Custom Field\")]),_c('button',{staticClass:\"button primary\",on:{\"click\":function($event){return _vm.fields.push(null)}}},[_vm._v(\"Add\")])]),_c('div',{staticClass:\"header-end\"},[_c('button',{staticClass:\"button primary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.addCustomField}},[_vm._v(\" Save \")])])]),_c('div',{staticClass:\"page-content\"},_vm._l((_vm.fields),function(i,idx){return _c('div',{key:idx,staticClass:\"field has-addons\"},[_c('p',{staticClass:\"control is-expanded\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.fields[idx]),expression:\"fields[idx]\"}],staticClass:\"input\",attrs:{\"type\":\"text input \"},domProps:{\"value\":(_vm.fields[idx])},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.fields, idx, $event.target.value)}}})]),_c('p',{staticClass:\"control\"},[_c('a',{staticClass:\"button\",on:{\"click\":function($event){return _vm.fields.splice(idx, 1)}}},[_c('i',{staticClass:\"fas fa-trash bubble\"})])])])}),0)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"page-container\">\r\n    <div class=\"page-header\">\r\n      <div class=\"header-start\">\r\n        <h3 class=\"page-title\">Custom Field</h3>\r\n        <button @click=\"fields.push(null)\" class=\"button primary\">Add</button>\r\n      </div>\r\n      <div class=\"header-end\">\r\n        <button @click=\"addCustomField\" type=\"button\" class=\"button primary\">\r\n          Save\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"page-content\">\r\n      <div class=\"field has-addons\" v-for=\"(i, idx) in fields\" :key=\"idx\">\r\n        <p class=\"control is-expanded\">\r\n          <input v-model=\"fields[idx]\" type=\"text input \" class=\"input\" />\r\n        </p>\r\n        <p class=\"control\">\r\n          <a class=\"button\" @click=\"fields.splice(idx, 1)\"\r\n            ><i class=\"fas fa-trash bubble\"></i>\r\n          </a>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getCustomFieldsApi, addCustomFieldApi } from \"@/apis/custom-field-api\";\r\nexport default {\r\n  data: () => ({\r\n    fields: [],\r\n  }),\r\n  methods: {\r\n    async getCustomFields() {\r\n      const data = await getCustomFieldsApi();\r\n      this.fields = data.fields;\r\n    },\r\n    async addCustomField() {\r\n      \r\n      const form = {\r\n        fields: this.fields,\r\n      };\r\n       await this.$store.dispatch(\"loading\");\r\n      await addCustomFieldApi(form);\r\n       await this.$store.dispatch(\"completed\");\r\n      this.getCustomFields();\r\n    },\r\n  },\r\n  created() {\r\n    this.getCustomFields();\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\ninput.input {\r\n  border: 1px solid $border-color;\r\n  box-shadow: none;\r\n  border-radius: 0;\r\n}\r\n.has-addons .button {\r\n  border-radius: 0;\r\n  border-color: $border-color;\r\n  i {\r\n    color: $alert-color;\r\n    margin: 0;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./company-custom-field.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./company-custom-field.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./company-custom-field.vue?vue&type=template&id=04831aae\"\nimport script from \"./company-custom-field.vue?vue&type=script&lang=js\"\nexport * from \"./company-custom-field.vue?vue&type=script&lang=js\"\nimport style0 from \"./company-custom-field.vue?vue&type=style&index=0&id=04831aae&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar map = require('../internals/iterator-map');\nvar IS_PURE = require('../internals/is-pure');\n\n// `Iterator.prototype.map` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.map\n$({ target: 'Iterator', proto: true, real: true, forced: IS_PURE }, {\n  map: map\n});\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Formula.vue?vue&type=style&index=0&id=54069aa3&prod&lang=scss&scoped=true\"","'use strict';\nvar call = require('../internals/function-call');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\nvar createIteratorProxy = require('../internals/iterator-create-proxy');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\n\nvar IteratorProxy = createIteratorProxy(function () {\n  var iterator = this.iterator;\n  var result = anObject(call(this.next, iterator));\n  var done = this.done = !!result.done;\n  if (!done) return callWithSafeIterationClosing(iterator, this.mapper, [result.value, this.counter++], true);\n});\n\n// `Iterator.prototype.map` method\n// https://github.com/tc39/proposal-iterator-helpers\nmodule.exports = function map(mapper) {\n  anObject(this);\n  aCallable(mapper);\n  return new IteratorProxy(getIteratorDirect(this), {\n    mapper: mapper\n  });\n};\n","import gql from 'graphql-tag'\r\n\r\nexport const GET_CUSTOM_FIELDS = gql`\r\n\r\n    {\r\n        getCustomFields {\r\n            _id\r\n            fields\r\n        }\r\n    }        \r\n\r\n`\r\n\r\n\r\n\r\nexport const ADD_CUSTOM_FIELD = gql`\r\n\r\n    mutation (\r\n        $fields: [String!]!\r\n        ) {\r\n        addCustomField(\r\n            fields: $fields\r\n        )\r\n    }\r\n\r\n`","import {apolloClient} from \"@/services/apollo-client\";\r\nimport {GET_CUSTOM_FIELDS, ADD_CUSTOM_FIELD} from \"@/graphql/CustomField\";\r\n\r\nexport const getCustomFieldsApi = () => {\r\n    return new Promise(async (resolve, reject) => {\r\n        try {\r\n            const res = await apolloClient.query({\r\n                query: GET_CUSTOM_FIELDS,\r\n            })\r\n            resolve(res.data.getCustomFields)\r\n        } catch (e) {\r\n            reject(e)\r\n        }\r\n    })\r\n}\r\n\r\nexport const addCustomFieldApi = (form) => {\r\n    return new Promise(async (resolve, reject) => {\r\n        try {\r\n            const res = await apolloClient.query({\r\n                query: ADD_CUSTOM_FIELD,\r\n                variables: form\r\n            })\r\n            resolve(res.data.addCustomFieldApi)\r\n        } catch (e) {\r\n            reject(e)\r\n        }\r\n    })\r\n}\r\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}