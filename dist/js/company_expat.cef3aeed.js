(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["company_expat"],{"00b4":function(t,e,a){"use strict";a("ac1f");var n=a("23e7"),r=a("c65b"),s=a("1626"),i=a("825a"),o=a("577e"),c=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},!0===e.test("abc")&&t}(),u=/./.test;n({target:"RegExp",proto:!0,forced:!c},{test:function(t){var e=i(this),a=o(t),n=e.exec;if(!s(n))return r(u,e,a);var c=r(n,e,a);return null!==c&&(i(c),!0)}})},"026d":function(t,e,a){},"06c5":function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));a("a630"),a("fb6a"),a("b0c0"),a("d3b7"),a("ac1f"),a("00b4"),a("25f0"),a("3ca3");var n=a("6b75");function r(t,e){if(t){if("string"==typeof t)return Object(n["a"])(t,e);var a={}.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(n["a"])(t,e):void 0}}},"107c":function(t,e,a){"use strict";var n=a("d039"),r=a("cfe9"),s=r.RegExp;t.exports=n((function(){var t=s("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},2268:function(t,e,a){},"25f0":function(t,e,a){"use strict";var n=a("5e77").PROPER,r=a("cb2d"),s=a("825a"),i=a("577e"),o=a("d039"),c=a("90d8"),u="toString",d=RegExp.prototype,l=d[u],f=o((function(){return"/a/b"!==l.call({source:"a",flags:"b"})})),p=n&&l.name!==u;(f||p)&&r(d,u,(function(){var t=s(this),e=i(t.source),a=i(c(t));return"/"+e+"/"+a}),{unsafe:!0})},2909:function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));var n=a("6b75");function r(t){if(Array.isArray(t))return Object(n["a"])(t)}a("a4d3"),a("e01a"),a("d28b"),a("a630"),a("d3b7"),a("3ca3"),a("ddb0");function s(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var i=a("06c5");a("d9e2");function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return r(t)||s(t)||Object(i["a"])(t)||o()}},"4c06":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("ValidationObserver",{staticClass:"page-container",attrs:{tag:"div"},scopedSlots:t._u([{key:"default",fn:function(a){var n=a.handleSubmit;return[e("div",{staticClass:"page-header"},[e("h3",{staticClass:"page-title"},[t._v("Expat Manager")])]),e("div",{staticClass:"page-content"},[e("div",{staticClass:"field"},[e("label",{staticClass:"label",attrs:{for:""}},[t._v("Does your company hire Expat?")]),e("div",{staticClass:"control switch"},[e("input",{attrs:{type:"radio",name:"approved",id:"need"},domProps:{checked:!t.form.isHiringExpat}}),e("label",{attrs:{for:"need"},on:{click:function(e){t.form.isHiringExpat=!1}}},[t._v("No")]),e("input",{attrs:{type:"radio",name:"approved",id:"unneed"},domProps:{checked:t.form.isHiringExpat}}),e("label",{attrs:{for:"unneed"},on:{click:function(e){t.form.isHiringExpat=!0}}},[t._v("Yes")])])]),t.form.isHiringExpat?e("h3",{staticClass:"title"},[t._v("Work permit notification")]):t._e(),t.form.isHiringExpat?e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("div",{staticClass:"field"},[e("label",{staticClass:"label",attrs:{for:""}},[t._v("Email to get notification")]),e("div",{staticClass:"control"},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){a.errors;return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.expatManager.notificationEmail,expression:"form.expatManager.notificationEmail"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.form.expatManager.notificationEmail},on:{input:function(e){e.target.composing||t.$set(t.form.expatManager,"notificationEmail",e.target.value)}}})]}}],null,!0)})],1)])]),e("div",{staticClass:"column"},[e("div",{staticClass:"field"},[e("label",{staticClass:"label",attrs:{for:""}},[t._v("The notice period (Day)")]),e("div",{staticClass:"control"},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){a.errors;return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.expatManager.noticePeriodDay,expression:"form.expatManager.noticePeriodDay"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.form.expatManager.noticePeriodDay},on:{input:function(e){e.target.composing||t.$set(t.form.expatManager,"noticePeriodDay",e.target.value)}}})]}}],null,!0)})],1)])])]):t._e(),e("button",{staticClass:"button primary",on:{click:function(e){return n(t.updateCompanyInfo)}}},[t._v(" Save ")])])]}}])})},r=[],s=a("c7eb"),i=a("1da1"),o=a("5530"),c=(a("d9e2"),a("2f62")),u=a("7811"),d={computed:Object(o["a"])({},Object(c["c"])(["getCompany"])),data:function(){return{form:{isHiringExpat:!1,expatManager:{notificationEmail:"",noticePeriodDay:null}}}},methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])(["updateCompany"])),{},{updateCompanyInfo:function(){var t=this;return Object(i["a"])(Object(s["a"])().mark((function e(){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("loading");case 3:return e.next=5,t.updateCompany(t.form);case 5:return e.next=7,t.$store.dispatch("completed");case 7:e.next=14;break;case 9:return e.prev=9,e.t0=e["catch"](0),e.next=13,t.$store.dispatch("error");case 13:throw new Error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})))()}}),created:function(){var t=this;return Object(i["a"])(Object(s["a"])().mark((function e(){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["a"])("Bank");case 2:t.form={isHiringExpat:t.getCompany.isHiringExpat,expatManager:{notificationEmail:t.getCompany.expatManager.notificationEmail,noticePeriodDay:t.getCompany.expatManager.noticePeriodDay}};case 3:case"end":return e.stop()}}),e)})))()}},l=d,f=(a("6734"),a("2877")),p=Object(f["a"])(l,n,r,!1,null,"2c77b5ec",null);e["default"]=p.exports},"4df4":function(t,e,a){"use strict";var n=a("0366"),r=a("c65b"),s=a("7b0b"),i=a("9bdd"),o=a("e95a"),c=a("68ee"),u=a("07fa"),d=a("8418"),l=a("9a1f"),f=a("35a1"),p=Array;t.exports=function(t){var e=s(t),a=c(this),m=arguments.length,v=m>1?arguments[1]:void 0,g=void 0!==v;g&&(v=n(v,m>2?arguments[2]:void 0));var h,b,x,C,y,_,M=f(e),I=0;if(!M||this===p&&o(M))for(h=u(e),b=a?new this(h):p(h);h>I;I++)_=g?v(e[I],I):e[I],d(b,I,_);else for(b=a?new this:[],C=l(e,M),y=C.next;!(x=r(y,C)).done;I++)_=g?i(C,v,[x.value,I],!0):x.value,d(b,I,_);return b.length=I,b}},5952:function(t,e,a){},6734:function(t,e,a){"use strict";a("5952")},"6b75":function(t,e,a){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=Array(e);a<e;a++)n[a]=t[a];return n}a.d(e,"a",(function(){return n}))},7811:function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));var n=a("c7eb"),r=a("1da1"),s=(a("d3b7"),a("47b6")),i=a("e896"),o=function(t){return new Promise(function(){var e=Object(r["a"])(Object(n["a"])().mark((function e(a,r){var o;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s["a"].query({query:i["a"],variables:{type:t}});case 3:o=e.sent,a(o.data.getReuses),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),r(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}())}},"8ce1":function(t,e,a){"use strict";a("2268")},"90d8":function(t,e,a){"use strict";var n=a("c65b"),r=a("1a2d"),s=a("3a9b"),i=a("ad6d"),o=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in o||r(t,"flags")||!s(o,t)?e:n(i,t)}},9113:function(t,e,a){"use strict";a.r(e);a("b0c0");var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-container"},[e("div",{staticClass:"page-header border-bottom"},[e("div",{staticClass:"header-start"},[e("h3",{staticClass:"page-title"},[t._v("Earning / Deduction")]),e("button",{staticClass:"button primary",on:{click:function(e){t.isShowAddItemModal=!0}}},[e("i",{staticClass:"fas fa-plus"}),t._v(" Add")])]),e("div",{staticClass:"header-end"},[e("button",{staticClass:"button primary",on:{click:function(e){t.showGroup=!t.showGroup}}},[t._v(" Manage Group ")]),e("button",{staticClass:"button",class:{create:t.itemSelected.length},attrs:{disabled:!t.itemSelected.length},on:{click:t.openCreateGroupModal}},[t._v(" Create Group ")])])]),t.showGroup?e("div",{staticClass:"group-list slide-down"},t._l(t.earnDeductGroups,(function(a){return e("div",{key:a._id,staticClass:"group-item"},[e("span",[t._v(t._s(a.name))]),e("span",{staticClass:"count"},[t._v(t._s(a.earnDeductsCount))]),e("span",{on:{click:function(e){return t.editGroup(a)}}},[e("i",{staticClass:"fas fa-cog"})])])})),0):t._e(),e("div",{staticClass:"page-content"},[e("table",{staticClass:"table is-fullwidth",attrs:{id:"my-table"}},[t._m(0),e("tbody",t._l(t.earnDeducts,(function(a,n){return e("tr",{key:n},[e("td",{staticClass:"wrap"},[e("div",{staticClass:"check"},[e("input",{ref:"Checkbox",refInFor:!0,attrs:{type:"checkbox",name:"",id:a._id}}),e("label",{attrs:{for:a._id},on:{click:function(e){return t.itemSelect(a._id)}}},[t._v(t._s(a.name))])])]),e("td",[e("div",{staticClass:"icons"},[t._l(a.groups,(function(r){return e("span",{key:r._id,staticClass:"tag",on:{click:function(e){return t.assignGroup(a.groups,n)}}},[t._v(t._s(r.name))])})),e("span",{staticClass:"icon hover-primary",on:{click:function(e){return t.assignGroup(a.groups,n)}}},[e("i",{staticClass:"fas fa-plus"})])],2)]),e("td",[e("span",{staticClass:"tag"},[t._v(t._s(a.type))])]),e("td",[e("span",{staticClass:"tag"},[t._v(t._s(a.isBeforeTax?"Include":"Not Include"))])]),e("td",[e("div",{staticClass:"icons right"},[e("span",{staticClass:"icon hover-primary",on:{click:function(e){return t.editItem(a.groups,n)}}},[e("i",{staticClass:"fas fa-pen bubble"})]),e("span",{staticClass:"icon alert hover-alert",on:{click:function(e){return t.deleteItem(a)}}},[e("i",{staticClass:"fas fa-trash"})])])])])})),0)]),t.Assign?e("Assign",{ref:"assignGroupModal",on:{CloseModal:t.onModalClosed}}):t._e(),t.isShowAddItemModal?e("AddItem",{ref:"addItemModal",on:{CloseModal:t.onAddItemModalClosed}}):t._e(),t.isShowDeleteItemModal?e("DeleteItem",{ref:"deleteItemModal",on:{CloseModal:t.onDeleteItemModalClosed}}):t._e(),t.isShowManageGroupModal?e("ManageGroup",{ref:"manageGroupModal",on:{CloseModal:t.onManageGroupModalClosed}}):t._e(),t.isShowCreateGroupModal?e("CreateGroup",{ref:"createGroupModal",on:{CloseModal:t.onCreateGroupModalClosed}}):t._e()],1)])},r=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("Item Name")]),e("th",{staticClass:"is-md is-right"},[t._v("Group")]),e("th",{staticClass:"is-xs is-right"},[t._v("Item Type")]),e("th",{staticClass:"is-xs is-right"},[t._v("TAX")]),e("th",{staticClass:"is-xs is-right"},[t._v("Option")])])])}],s=a("2909"),i=a("c7eb"),o=a("1da1"),c=(a("4de4"),a("caad"),a("d81d"),a("14d9"),a("e9f5"),a("910d"),a("ab43"),a("d3b7"),a("2532"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal is-active"},[e("div",{staticClass:"modal-background",on:{click:t.closeModal}}),e("div",{staticClass:"modal-card slide-down",staticStyle:{padding:"0"}},[e("div",{staticClass:"modal-card-head"},[e("h3",[t._v("Assign Allowance to group")]),e("button",{staticClass:"modal-close is-large",attrs:{"aria-label":"close"},on:{click:t.closeModal}})]),e("section",{staticClass:"modal-card-body"},[e("div",{staticClass:"field"},[e("ul",t._l(t.earnDeductGroups,(function(a,n){return e("li",{key:n,class:{active:t.groupIds.includes(a._id)},on:{click:function(e){return t.selectGroup(a)}}},[e("span",[t._v(t._s(a.name))])])})),0)]),e("div",{staticClass:"buttons"},[e("button",{staticClass:"button primary",on:{click:t.updateEarnDeduct}},[t._v("Save")])])])])])}),u=[],d=(a("c740"),a("a434"),a("c150")),l={data:function(){return{allowanceGroups:[{groupname:"Default"},{groupname:"Operation"},{groupname:"Local Staff"}],earnDeductGroups:[],form:{earnDeductId:null,name:"",type:"Earning",isBeforeTax:!0,isBeforeSso:!1,earnDeductGroupIds:[]}}},computed:{groupIds:function(){return this.form.earnDeductGroupIds}},methods:{selectGroup:function(t){if(this.groupIds.includes(t._id)){var e=this.form.earnDeductGroupIds.findIndex((function(e){return e===t._id}));this.form.earnDeductGroupIds.splice(e,1)}else this.form.earnDeductGroupIds.push(t._id)},updateEarnDeduct:function(){var t=this;return Object(o["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["d"])(t.form);case 2:t.closeModal();case 3:case"end":return e.stop()}}),e)})))()},closeModal:function(){this.$emit("CloseModal")}}},f=l,p=(a("8ce1"),a("2877")),m=Object(p["a"])(f,c,u,!1,null,"9fa19ab2",null),v=m.exports,g=a("e41e"),h=a("6a43"),b=a("b42f"),x=a("9890"),C=a("1100"),y={components:{Assign:v,AddItem:h["a"],DeleteItem:b["a"],ManageGroup:x["a"],CreateGroup:C["a"]},data:function(){return{Assign:!1,isShowAddItemModal:!1,isShowDeleteItemModal:!1,isShowManageGroupModal:!1,isShowCreateGroupModal:!1,earnDeducts:[],earnDeductGroups:[],itemSelected:[],showGroup:!1}},created:function(){this.getData()},methods:{onAddItemModalClosed:function(){this.isShowAddItemModal=!1,this.getData()},onDeleteItemModalClosed:function(){this.isShowDeleteItemModal=!1,this.getData()},onManageGroupModalClosed:function(){this.isShowManageGroupModal=!1,this.getData()},onCreateGroupModalClosed:function(){this.isShowCreateGroupModal=!1,this.getData()},onModalClosed:function(){this.Assign=!1,this.getData()},getData:function(){var t=this;return Object(o["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["c"])();case 2:return t.earnDeducts=e.sent,e.next=5,Object(g["c"])();case 5:t.earnDeductGroups=e.sent;case 6:case"end":return e.stop()}}),e)})))()},openCreateGroupModal:function(){var t=this;this.isShowCreateGroupModal=!0,this.$nextTick((function(){t.$refs.createGroupModal.form.earnDeductIds=t.itemSelected}))},editGroup:function(t){var e=this;this.isShowManageGroupModal=!0,this.$nextTick((function(){e.$refs.manageGroupModal.form={name:t.name,earnDeductGroupId:t._id,earnDeductIds:t.earnDeductIds.map((function(t){return t._id}))},e.$refs.manageGroupModal.earnDeducts=t.earnDeductIds}))},itemSelect:function(t){var e=this.itemSelected.includes(t);e?this.itemSelected=this.itemSelected.filter((function(e){return e!==t})):this.itemSelected.push(t)},editItem:function(t,e){var a=this;this.isShowAddItemModal=!0,this.$nextTick((function(){var n=t.map((function(t){return t._id})),r=a.earnDeducts[e];a.$refs.addItemModal.isEditMode=!0,a.$refs.addItemModal.form={earnDeductId:r._id,name:r.name,type:r.type,isBeforeTax:r.isBeforeTax,isBeforeSso:r.isBeforeSso,earnDeductGroupIds:n}}))},deleteItem:function(t){var e=this;this.isShowDeleteItemModal=!0,this.$nextTick((function(){e.$refs.deleteItemModal.earnDeductId=t._id,e.$refs.deleteItemModal.name=t.name}))},assignGroup:function(t,e){var a=this;this.Assign=!0,this.$nextTick((function(){a.$refs.assignGroupModal.earnDeductGroups=Object(s["a"])(a.earnDeductGroups);var n=t.map((function(t){return t._id})),r=a.earnDeducts[e];a.$refs.assignGroupModal.form={earnDeductId:r._id,name:r.name,type:r.type,isBeforeTax:r.isBeforeTax,isBeforeSso:r.isBeforeSso,earnDeductGroupIds:n}}))}}},_=y,M=(a("ae50"),Object(p["a"])(_,n,r,!1,null,"729fc394",null));e["default"]=M.exports},9263:function(t,e,a){"use strict";var n=a("c65b"),r=a("e330"),s=a("577e"),i=a("ad6d"),o=a("9f7f"),c=a("5692"),u=a("7c73"),d=a("69f3").get,l=a("fce3"),f=a("107c"),p=c("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,v=m,g=r("".charAt),h=r("".indexOf),b=r("".replace),x=r("".slice),C=function(){var t=/a/,e=/b*/g;return n(m,t,"a"),n(m,e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),y=o.BROKEN_CARET,_=void 0!==/()??/.exec("")[1],M=C||_||y||l||f;M&&(v=function(t){var e,a,r,o,c,l,f,M=this,I=d(M),w=s(t),D=I.raw;if(D)return D.lastIndex=M.lastIndex,e=n(v,D,w),M.lastIndex=D.lastIndex,e;var G=I.groups,S=y&&M.sticky,k=n(i,M),E=M.source,O=0,j=w;if(S&&(k=b(k,"y",""),-1===h(k,"g")&&(k+="g"),j=x(w,M.lastIndex),M.lastIndex>0&&(!M.multiline||M.multiline&&"\n"!==g(w,M.lastIndex-1))&&(E="(?: "+E+")",j=" "+j,O++),a=new RegExp("^(?:"+E+")",k)),_&&(a=new RegExp("^"+E+"$(?!\\s)",k)),C&&(r=M.lastIndex),o=n(m,S?a:M,j),S?o?(o.input=x(o.input,O),o[0]=x(o[0],O),o.index=M.lastIndex,M.lastIndex+=o[0].length):M.lastIndex=0:C&&o&&(M.lastIndex=M.global?o.index+o[0].length:r),_&&o&&o.length>1&&n(p,o[0],a,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(o[c]=void 0)})),o&&G)for(o.groups=l=u(null),c=0;c<G.length;c++)f=G[c],l[f[0]]=o[f[1]];return o}),t.exports=v},"9f7f":function(t,e,a){"use strict";var n=a("d039"),r=a("cfe9"),s=r.RegExp,i=n((function(){var t=s("a","y");return t.lastIndex=2,null!==t.exec("abcd")})),o=i||n((function(){return!s("a","y").sticky})),c=i||n((function(){var t=s("^r","gy");return t.lastIndex=2,null!==t.exec("str")}));t.exports={BROKEN_CARET:c,MISSED_STICKY:o,UNSUPPORTED_Y:i}},a630:function(t,e,a){"use strict";var n=a("23e7"),r=a("4df4"),s=a("1c7e"),i=!s((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:i},{from:r})},ac1f:function(t,e,a){"use strict";var n=a("23e7"),r=a("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad6d:function(t,e,a){"use strict";var n=a("825a");t.exports=function(){var t=n(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},ae50:function(t,e,a){"use strict";a("026d")},e896:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));var n,r=a("8785"),s=a("5184"),i=Object(s["a"])(n||(n=Object(r["a"])(["\n    \n    query (\n        $type: String!\n    ) {\n        getReuses(\n            type: $type\n        ) {\n            _id\n            name\n        }\n    }\n    \n"])))},fce3:function(t,e,a){"use strict";var n=a("d039"),r=a("cfe9"),s=r.RegExp;t.exports=n((function(){var t=s(".","s");return!(t.dotAll&&t.test("\n")&&"s"===t.flags)}))}}]);
//# sourceMappingURL=company_expat.cef3aeed.js.map