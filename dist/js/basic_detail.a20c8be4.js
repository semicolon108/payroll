(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["basic_detail"],{"184b":function(t,e,a){t.exports=a.p+"img/female-avatar.6edde591.png"},"7db0":function(t,e,a){"use strict";var n=a("23e7"),s=a("b727").find,r=a("44d2"),i="find",o=!0;i in[]&&Array(1)[i]((function(){o=!1})),n({target:"Array",proto:!0,forced:o},{find:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),r(i)},8398:function(t,e,a){"use strict";a.r(e);a("99af"),a("4de4"),a("d81d"),a("fb6a"),a("b0c0"),a("e9f5"),a("ab43"),a("d3b7");var n=function(){var t=this,e=t._self._c;return e("div",[t._m(0),e("ValidationObserver",{ref:"refForm",attrs:{slim:""}},[e("div",{staticClass:"form"},[e("div",{staticClass:"columns is-multiline"},[e("div",{staticClass:"column is-12"},[e("div",{staticClass:"field"},[e("div",{staticClass:"control upload"},[t.isEditMode&&!t.file?e("div",{staticClass:"photo",style:{"background-image":"url("+t.placeholder+")"}}):e("div",{staticClass:"photo",style:{"background-image":"url("+t.profileImage+")"}}),e("input",{ref:"FileInput",staticClass:"input",attrs:{type:"file"},on:{change:t.onFileChange}}),e("div",{staticClass:"upload-label"},[e("ValidationProvider",{attrs:{name:"File"},scopedSlots:t._u([{key:"default",fn:function(a){var n=a.errors;return[t.isEditMode&&!t.file?e("input",{directives:[{name:"model",rawName:"v-model",value:t.image.src,expression:"image.src"}],staticStyle:{display:"none"},attrs:{type:"text"},domProps:{value:t.image.src},on:{input:function(e){e.target.composing||t.$set(t.image,"src",e.target.value)}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:t.file,expression:"file"}],staticStyle:{display:"none"},attrs:{type:"text"},domProps:{value:t.file},on:{input:function(e){e.target.composing||(t.file=e.target.value)}}}),e("p",{staticClass:"has-text-danger"},[t._v(t._s(n[0]))])]}}])}),e("div",[e("h3",[t._v("Employee Photo")]),t.isEditMode?e("p",[t._v(" file size: "+t._s(t._f("readSize")(t.image.size))+" ")]):e("p",[t._v(" "+t._s(t.file?t.file.name:"Support file .jpg .gif .png | maximum size 5mb")+" ")]),t.file?e("p",[t._v(t._s(t._f("readSize")(t.file.size)))]):t._e()]),e("button",{staticClass:"button sub",on:{click:t.chooseFile}},[t._v(" Add Photo ")])],1)])])]),e("div",{staticClass:"column is-4"},[e("div",{staticClass:"field"},[e("label",{staticClass:"label",attrs:{for:""}},[t._v("Employee ID "),e("span",[t._v("*")])]),e("div",{staticClass:"control"},[e("ValidationProvider",{attrs:{name:"Employee ID",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var n=a.errors;return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.employeeCode,expression:"form.employeeCode"}],staticClass:"input",attrs:{type:"text",required:""},domProps:{value:t.form.employeeCode},on:{input:function(e){e.target.composing||t.$set(t.form,"employeeCode",e.target.value)}}}),e("p",{staticClass:"has-text-danger"},[t._v(t._s(n[0]))])]}}])})],1)])]),e("div",{staticClass:"column is-4"},[e("div",{staticClass:"field"},[e("label",{staticClass:"label",attrs:{for:""}},[t._v("First Name "),e("span",[t._v(" (ENG) *")])]),e("div",{staticClass:"control"},[e("ValidationProvider",{attrs:{name:"firstName",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var n=a.errors;return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.firstName,expression:"form.firstName"}],staticClass:"input",attrs:{type:"text",required:""},domProps:{value:t.form.firstName},on:{input:function(e){e.target.composing||t.$set(t.form,"firstName",e.target.value)}}}),e("p",{staticClass:"has-text-danger"},[t._v(t._s(n[0]))])]}}])})],1)])]),e("div",{staticClass:"column is-4"},[e("div",{staticClass:"field"},[e("label",{staticClass:"label",attrs:{for:""}},[t._v("Last Name "),e("span",[t._v(" (ENG) *")])]),e("div",{staticClass:"control"},[e("ValidationProvider",{attrs:{name:"lastName",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var n=a.errors;return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.lastName,expression:"form.lastName"}],staticClass:"input",attrs:{type:"text",required:""},domProps:{value:t.form.lastName},on:{input:function(e){e.target.composing||t.$set(t.form,"lastName",e.target.value)}}}),e("p",{staticClass:"has-text-danger"},[t._v(t._s(n[0]))])]}}])})],1)])]),e("div",{staticClass:"column is-4"},[e("div",{staticClass:"field"},[e("label",{staticClass:"label",attrs:{for:""}},[t._v("First Name "),e("span",[t._v(" (Lao)")])]),e("div",{staticClass:"control"},[e("ValidationProvider",{attrs:{name:"firstNameLao"},scopedSlots:t._u([{key:"default",fn:function(a){var n=a.errors;return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.firstNameLao,expression:"form.firstNameLao"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.form.firstNameLao},on:{input:function(e){e.target.composing||t.$set(t.form,"firstNameLao",e.target.value)}}}),e("p",{staticClass:"has-text-danger"},[t._v(t._s(n[0]))])]}}])})],1)])]),e("div",{staticClass:"column is-4"},[e("div",{staticClass:"field"},[e("label",{staticClass:"label",attrs:{for:""}},[t._v("Last Name "),e("span",[t._v(" (Lao)")])]),e("div",{staticClass:"control"},[e("ValidationProvider",{attrs:{name:"lastNameLao"},scopedSlots:t._u([{key:"default",fn:function(a){var n=a.errors;return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.lastNameLao,expression:"form.lastNameLao"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.form.lastNameLao},on:{input:function(e){e.target.composing||t.$set(t.form,"lastNameLao",e.target.value)}}}),e("p",{staticClass:"has-text-danger"},[t._v(t._s(n[0]))])]}}])})],1)])]),e("div",{staticClass:"column is-4"},[e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[t._v("Gender")]),e("div",{staticClass:"control switch"},t._l(t.genders,(function(a){return e("div",{key:a._id,staticClass:"item",class:{"is-active":t.form.genderId===a._id},on:{click:function(e){t.form.genderId=a._id}}},[e("span",[t._v(t._s(a.name))])])})),0)])]),e("div",{staticClass:"column is-4"},[e("div",{staticClass:"field"},[e("label",{staticClass:"label",attrs:{for:""}},[t._v("Date of Birth")]),e("ValidationProvider",{attrs:{name:"Date of Birth",rules:"isDateOrNull"},scopedSlots:t._u([{key:"default",fn:function(a){var n=a.errors;return[e("DatePicker",{staticClass:"control date",attrs:{defaultValue:t.defaultValue.dateOfBirth},model:{value:t.form.dateOfBirth,callback:function(e){t.$set(t.form,"dateOfBirth",e)},expression:"form.dateOfBirth"}}),e("p",{staticClass:"has-text-danger"},[t._v(t._s(n[0]))])]}}])})],1)]),e("div",{staticClass:"column is-4"},[e("div",{staticClass:"field"},[e("label",{staticClass:"label",attrs:{for:""}},[t._v("Marital Status")]),e("div",{staticClass:"select"},[e("ValidationProvider",{attrs:{name:"Marital Status"},scopedSlots:t._u([{key:"default",fn:function(a){var n=a.errors;return[e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.maritalStatusId,expression:"form.maritalStatusId"}],staticClass:"control select",staticStyle:{width:"100%"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"maritalStatusId",e.target.multiple?a:a[0])}}},t._l(t.maritalStatuses,(function(a){return e("option",{key:a._id,staticClass:"input",attrs:{type:"text",required:""},domProps:{value:a._id}},[t._v(" "+t._s(a.name)+" ")])})),0),e("p",{staticClass:"has-text-danger"},[t._v(t._s(n[0]))])]}}])})],1)])]),e("div",{staticClass:"column is-4"},[e("div",{staticClass:"field"},[e("label",{staticClass:"label",attrs:{for:""}},[t._v("Nationality")]),e("div",{staticClass:"select"},[e("ValidationProvider",{attrs:{name:"Nationality",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var n=a.errors;return[e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.isExpat,expression:"form.isExpat"}],staticClass:"control select",staticStyle:{width:"100%"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"isExpat",e.target.multiple?a:a[0])}}},[e("option",{staticClass:"input",domProps:{value:!1}},[t._v("Lao")]),e("option",{staticClass:"input",domProps:{value:!0}},[t._v("Foreigner")])]),e("p",{staticClass:"has-text-danger"},[t._v(t._s(n[0]))])]}}])})],1)])]),e("div",{staticClass:"column is-4"},[e("div",{staticClass:"field"},[e("label",{staticClass:"label",attrs:{for:""}},[t._v("Contact Number"),e("span",[t._v(" (For Mobile App)")])]),e("ValidationProvider",{staticClass:"control has-icons-left mobile",attrs:{tag:"div",rules:"length:8",mode:"lazy",name:"Contact Number"},scopedSlots:t._u([{key:"default",fn:function(a){var n=a.errors;return[e("span",{staticClass:"icon is-small is-left"},[t._v("+856 20")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.mobile,expression:"form.mobile"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.form.mobile},on:{input:function(e){e.target.composing||t.$set(t.form,"mobile",e.target.value)}}}),e("p",{staticClass:"has-text-danger"},[t._v(t._s(n[0]))])]}}])})],1)]),e("div",{staticClass:"column is-4"},[e("div",{staticClass:"field"},[e("label",{staticClass:"label",attrs:{for:""}},[t._v("ID card / Passport No.")]),e("div",{staticClass:"control"},[e("ValidationProvider",{attrs:{name:"ID card / Passport No."},scopedSlots:t._u([{key:"default",fn:function(a){var n=a.errors;return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.idCardOrPassport,expression:"form.idCardOrPassport"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.form.idCardOrPassport},on:{input:function(e){e.target.composing||t.$set(t.form,"idCardOrPassport",e.target.value)}}}),e("p",{staticClass:"has-text-danger"},[t._v(t._s(n[0]))])]}}])})],1)])]),e("div",{staticClass:"column is-4"},[e("div",{staticClass:"field"},[e("label",{staticClass:"label",attrs:{for:""}},[t._v("Email")]),e("div",{staticClass:"control"},[e("ValidationProvider",{attrs:{name:"Email"},scopedSlots:t._u([{key:"default",fn:function(a){var n=a.errors;return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),e("p",{staticClass:"has-text-danger"},[t._v(t._s(n[0]))])]}}])})],1)])]),e("div",{staticClass:"column is-4"},[e("div",{staticClass:"field"},[e("label",{staticClass:"label",attrs:{for:""}},[t._v("Social security ID")]),e("div",{staticClass:"control toggle"},[e("ValidationProvider",{attrs:{name:"Social security ID"},scopedSlots:t._u([{key:"default",fn:function(a){var n=a.errors;return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.ssoId,expression:"form.ssoId"}],staticClass:"input",attrs:{type:"text",disabled:!t.form.isSso},domProps:{value:t.form.ssoId},on:{input:function(e){e.target.composing||t.$set(t.form,"ssoId",e.target.value)}}}),e("p",{staticClass:"has-text-danger"},[t._v(t._s(n[0]))])]}}])}),e("div",{staticClass:"sso-toggle"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.isSso,expression:"form.isSso"}],attrs:{type:"checkbox",id:"sso",checked:""},domProps:{checked:Array.isArray(t.form.isSso)?t._i(t.form.isSso,null)>-1:t.form.isSso},on:{change:function(e){var a=t.form.isSso,n=e.target,s=!!n.checked;if(Array.isArray(a)){var r=null,i=t._i(a,r);n.checked?i<0&&t.$set(t.form,"isSso",a.concat([r])):i>-1&&t.$set(t.form,"isSso",a.slice(0,i).concat(a.slice(i+1)))}else t.$set(t.form,"isSso",s)}}}),e("label",{attrs:{for:"sso"}},[t._v("Use")])])],1)])])]),e("hr"),e("h3",{staticClass:"form-title"},[t._v("Emergency Contact")]),e("div",{staticClass:"columns is-multiline"},[e("div",{staticClass:"column is-4"},[e("div",{staticClass:"field"},[e("label",{staticClass:"label",attrs:{for:""}},[t._v("Full Name")]),e("div",{staticClass:"control"},[e("ValidationProvider",{attrs:{name:"EmergencyContact Full Name"},scopedSlots:t._u([{key:"default",fn:function(a){var n=a.errors;return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.emergencyContact.fullName,expression:"form.emergencyContact.fullName"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.form.emergencyContact.fullName},on:{input:function(e){e.target.composing||t.$set(t.form.emergencyContact,"fullName",e.target.value)}}}),e("p",{staticClass:"has-text-danger"},[t._v(t._s(n[0]))])]}}])})],1)])]),e("div",{staticClass:"column is-4"},[e("div",{staticClass:"field"},[e("label",{staticClass:"label",attrs:{for:""}},[t._v("Relationship")]),e("div",{staticClass:"select"},[e("ValidationProvider",{attrs:{name:"Full Name"},scopedSlots:t._u([{key:"default",fn:function(a){var n=a.errors;return[e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.emergencyContact.relationshipId,expression:"form.emergencyContact.relationshipId"}],staticClass:"control select",staticStyle:{width:"100%"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form.emergencyContact,"relationshipId",e.target.multiple?a:a[0])}}},[e("option",{staticClass:"input",attrs:{type:"text",selected:""},domProps:{value:null}},[t._v(" None ")]),t._l(t.relationships,(function(a){return e("option",{key:a._id,staticClass:"input",attrs:{type:"text"},domProps:{value:a._id}},[t._v(" "+t._s(a.name)+" ")])}))],2),e("p",{staticClass:"has-text-danger"},[t._v(t._s(n[0]))])]}}])})],1)])]),e("div",{staticClass:"column is-4"},[e("div",{staticClass:"field"},[e("label",{staticClass:"label",attrs:{for:""}},[t._v("Contact Number")]),e("div",{staticClass:"control"},[e("ValidationProvider",{attrs:{name:"EmergencyContact Contact Number"},scopedSlots:t._u([{key:"default",fn:function(a){var n=a.errors;return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.emergencyContact.contactNumber,expression:"form.emergencyContact.contactNumber"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.form.emergencyContact.contactNumber},on:{input:function(e){e.target.composing||t.$set(t.form.emergencyContact,"contactNumber",e.target.value)}}}),e("p",{staticClass:"has-text-danger"},[t._v(t._s(n[0]))])]}}])})],1)])])]),e("hr"),e("div",{staticClass:"form-title"},[t._v("Bank Account")]),e("div",{staticClass:"columns is-multiline"},[e("div",{staticClass:"column is-4"},[e("div",{staticClass:"field"},[e("label",{staticClass:"label",attrs:{for:""}},[t._v("Bank Name")]),e("div",{staticClass:"select"},[e("ValidationProvider",{attrs:{name:"Bank Name"},scopedSlots:t._u([{key:"default",fn:function(a){var n=a.errors;return[e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.bankAccount.bankId,expression:"form.bankAccount.bankId"}],staticClass:"control select",staticStyle:{width:"100%"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form.bankAccount,"bankId",e.target.multiple?a:a[0])}}},t._l(t.banks,(function(a){return e("option",{key:a._id,staticClass:"input",attrs:{type:"text"},domProps:{value:a._id}},[t._v(" "+t._s(a.name)+" ")])})),0),e("p",{staticClass:"has-text-danger"},[t._v(t._s(n[0]))])]}}])})],1)])]),e("div",{staticClass:"column is-4"},[e("div",{staticClass:"field"},[e("label",{staticClass:"label",attrs:{for:""}},[t._v("Account Name")]),e("div",{staticClass:"control"},[e("ValidationProvider",{attrs:{name:"Account Name"},scopedSlots:t._u([{key:"default",fn:function(a){var n=a.errors;return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.bankAccount.accountName,expression:"form.bankAccount.accountName"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.form.bankAccount.accountName},on:{input:function(e){e.target.composing||t.$set(t.form.bankAccount,"accountName",e.target.value)}}}),e("p",{staticClass:"has-text-danger"},[t._v(t._s(n[0]))])]}}])})],1)])]),e("div",{staticClass:"column is-4"},[e("div",{staticClass:"field"},[e("label",{staticClass:"label",attrs:{for:""}},[t._v("Account Number")]),e("div",{staticClass:"control"},[e("ValidationProvider",{attrs:{name:"Account Number"},scopedSlots:t._u([{key:"default",fn:function(a){var n=a.errors;return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.bankAccount.accountNumber,expression:"form.bankAccount.accountNumber"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.form.bankAccount.accountNumber},on:{input:function(e){e.target.composing||t.$set(t.form.bankAccount,"accountNumber",e.target.value)}}}),e("p",{staticClass:"has-text-danger"},[t._v(t._s(n[0]))])]}}])})],1)])])]),t.isEditMode?e("button",{staticClass:"button primary",attrs:{type:"button"},on:{click:t.saveOnly}},[t._v(" Update ")]):e("button",{staticClass:"button primary",attrs:{type:"button"},on:{click:t.saveAndContinue}},[t._v(" Save and continue ")])])])],1)},s=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-header"},[e("h3",[t._v("Personal Information")]),e("p",[t._v(" Need help or have questions about adding employees? Call us at (856) 21 254709. ")])])}],r=a("c7eb"),i=a("5530"),o=a("1da1"),l=(a("d9e2"),a("7db0"),a("14d9"),a("f665"),a("8b74")),c=a("e896"),m=a("9c51"),d=a("8499"),u={components:{DatePicker:m["a"]},data:function(){return{form:{isExpat:!1,employeeCode:"",genderId:"",maritalStatusId:"",nationalityId:"",relationshipId:"",firstName:"",lastName:"",firstNameLao:"",lastNameLao:"",dateOfBirth:"",mobile:"",idCardOrPassport:"",email:"",ssoId:"",isSso:!1,emergencyContact:{fullName:"",relationshipId:"",contactNumber:""},bankAccount:{bankId:"",accountName:"",accountNumber:""}},file:null,genders:[],maritalStatuses:[],nationalities:[],relationships:[],isEditMode:!1,image:{},defaultValue:{dateOfBirth:""},banks:[]}},computed:{profileImage:function(){return this.file?this.$baseUrl+"/"+this.file.name:this.placeholder},placeholder:function(){return this.image.src?this.image.src:"Male"===this.gender?a("9e5c"):a("184b")},gender:function(){var t=this,e=this.genders.find((function(e){return e._id===t.form.genderId}));return e?e.name:null}},filters:{readSize:function(t){return Object(l["a"])(t)}},created:function(){var t=this;return Object(o["a"])(Object(r["a"])().mark((function e(){var a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.reuseGet("Gender","genders","genderId");case 2:return e.next=4,t.reuseGet("MaritalStatus","maritalStatuses","maritalStatusId");case 4:return e.next=6,t.reuseGet("Nationality","nationalities","nationalityId");case 6:return e.next=8,t.reuseGet("Relationship","relationships");case 8:return e.next=10,t.reuseGet("Bank","banks","bankAccount","bankId");case 10:if(!t.$route.params.id){e.next=20;break}return t.isEditMode=!0,e.next=14,t.getEmployee(t.$route.params.id);case 14:a=e.sent,t.image=a.image?a.image:{},t.form={employeeCode:a.employeeCode,firstName:a.firstName,lastName:a.lastName,firstNameLao:a.firstNameLao,lastNameLao:a.lastNameLao,dateOfBirth:a.dateOfBirth,mobile:a.mobile,idCardOrPassport:a.idCardOrPassport,email:a.email,ssoId:a.ssoId,isSso:a.isSso,emergencyContact:{fullName:a.emergencyContact.fullName,contactNumber:a.emergencyContact.contactNumber,relationshipId:a.emergencyContact.relationshipId},bankAccount:{bankId:a.bankAccount.bankId,accountName:a.bankAccount.accountName,accountNumber:a.bankAccount.accountNumber},genderId:a.genderId,maritalStatusId:a.maritalStatusId,nationalityId:a.nationalityId,isExpat:a.isExpat},t.defaultValue.dateOfBirth=t.form.dateOfBirth,e.next=21;break;case 20:t.form=Object(i["a"])(Object(i["a"])({},t.form),{genderId:t.form.genderId,maritalStatusId:t.form.maritalStatusId,nationalityId:t.form.nationalityId});case 21:case"end":return e.stop()}}),e)})))()},watch:{"form.isSso":function(t){t||(this.form.ssoId=null)}},methods:{uploadImage:function(t){var e=this;return Object(o["a"])(Object(r["a"])().mark((function a(){var n,s;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,n=new FormData,n.append("imageFile",t),a.next=5,e.$axios.post("upload-image",n);case 5:s=a.sent,e.file=s.data.file,a.next=12;break;case 9:throw a.prev=9,a.t0=a["catch"](0),new Error(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})))()},reuseGet:function(t,e,a,n){var s=this;return Object(o["a"])(Object(r["a"])().mark((function i(){var o;return Object(r["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,s.$apollo.query({query:c["a"],variables:{type:t}});case 3:o=r.sent,s[e]=o.data.getReuses,n?s.form[a][n]=s[e][0]._id:s.form[a]=s[e][0]._id,r.next=11;break;case 8:throw r.prev=8,r.t0=r["catch"](0),new Error(r.t0);case 11:case"end":return r.stop()}}),i,null,[[0,8]])})))()},addEmployee:function(){var t=this;return Object(o["a"])(Object(r["a"])().mark((function e(){var a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("loading");case 3:return e.next=5,t.$apollo.mutate({mutation:d["a"],variables:{employeeCode:t.form.employeeCode,firstName:t.form.firstName,lastName:t.form.lastName,firstNameLao:t.form.firstNameLao,lastNameLao:t.form.lastNameLao,dateOfBirth:t.form.dateOfBirth,mobile:t.form.mobile,idCardOrPassport:t.form.idCardOrPassport,email:t.form.email,ssoId:t.form.ssoId,isSso:t.form.isSso,emergencyContact:{fullName:t.form.emergencyContact.fullName,contactNumber:t.form.emergencyContact.contactNumber,relationshipId:t.form.emergencyContact.relationshipId},bankAccount:{bankId:t.form.bankAccount.bankId,accountName:t.form.bankAccount.accountName,accountNumber:t.form.bankAccount.accountNumber},genderId:t.form.genderId,maritalStatusId:t.form.maritalStatusId,nationalityId:t.form.nationalityId,image:t.file?t.file:void 0,isExpat:t.form.isExpat}});case 5:return a=e.sent,e.next=8,t.$store.dispatch("completed");case 8:return e.next=10,t.$router.push({name:"hiring_detail",params:{id:a.data.addEmployee._id,name:a.data.firstName+" "+a.data.lastName}});case 10:e.next=17;break;case 12:return e.prev=12,e.t0=e["catch"](0),e.next=16,t.$store.dispatch("error");case 16:throw new Error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})))()},updateEmployee:function(){var t=this;return Object(o["a"])(Object(r["a"])().mark((function e(){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("loading");case 3:return e.next=5,t.$apollo.mutate({mutation:d["e"],variables:{employeeId:t.$route.params.id,employeeCode:t.form.employeeCode,firstName:t.form.firstName,lastName:t.form.lastName,firstNameLao:t.form.firstNameLao,lastNameLao:t.form.lastNameLao,dateOfBirth:t.form.dateOfBirth,mobile:t.form.mobile,idCardOrPassport:t.form.idCardOrPassport,email:t.form.email,ssoId:t.form.ssoId,isSso:t.form.isSso,emergencyContact:{fullName:t.form.emergencyContact.fullName,contactNumber:t.form.emergencyContact.contactNumber,relationshipId:t.form.emergencyContact.relationshipId},bankAccount:{bankId:t.form.bankAccount.bankId,accountName:t.form.bankAccount.accountName,accountNumber:t.form.bankAccount.accountNumber},genderId:t.form.genderId,maritalStatusId:t.form.maritalStatusId,nationalityId:t.form.nationalityId,image:t.file?t.file:void 0,isExpat:t.form.isExpat}});case 5:return e.next=7,t.$store.dispatch("completed");case 7:e.next=14;break;case 9:return e.prev=9,e.t0=e["catch"](0),e.next=13,t.$store.dispatch("error");case 13:throw new Error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})))()},saveAndContinue:function(){var t=this;return Object(o["a"])(Object(r["a"])().mark((function e(){var a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.refForm.validate();case 2:if(a=e.sent,a){e.next=5;break}return e.abrupt("return");case 5:if(!t.isEditMode){e.next=12;break}return e.next=8,t.updateEmployee();case 8:return e.next=10,t.$router.push({name:"hiring_detail",params:{id:t.$route.params.id}});case 10:e.next=16;break;case 12:return e.next=14,t.addEmployee();case 14:return e.next=16,t.$router.push({name:"hiring_detail",params:{id:t.$route.params.id}});case 16:case"end":return e.stop()}}),e)})))()},saveOnly:function(){var t=this;return Object(o["a"])(Object(r["a"])().mark((function e(){var a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.refForm.validate();case 2:if(a=e.sent,a){e.next=5;break}return e.abrupt("return");case 5:if(!t.isEditMode){e.next=10;break}return e.next=8,t.updateEmployee();case 8:e.next=12;break;case 10:return e.next=12,t.addEmployee();case 12:case"end":return e.stop()}}),e)})))()},getEmployee:function(t){var e=this;return Object(o["a"])(Object(r["a"])().mark((function a(){var n;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.$apollo.query({query:d["b"],variables:{employeeId:t}});case 3:return n=a.sent,a.abrupt("return",n.data.getEmployee);case 7:throw a.prev=7,a.t0=a["catch"](0),new Error(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},chooseFile:function(){this.$refs.FileInput.click()},onFileChange:function(t){var e=this;return Object(o["a"])(Object(r["a"])().mark((function a(){var n,s;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=t.target.files[0],s=n.name.split(".").pop(),"png"!==s&&"jpg"!==s&&"jpeg"!==s){a.next=7;break}return a.next=5,e.uploadImage(n);case 5:a.next=8;break;case 7:alert("Not Image");case 8:case"end":return a.stop()}}),a)})))()}}},f=u,p=(a("efc7"),a("2877")),v=Object(p["a"])(f,n,s,!1,null,"58050c0b",null);e["default"]=v.exports},8499:function(t,e,a){"use strict";a.d(e,"c",(function(){return m})),a.d(e,"b",(function(){return d})),a.d(e,"a",(function(){return u})),a.d(e,"e",(function(){return f})),a.d(e,"d",(function(){return p}));var n,s,r,i,o,l=a("8785"),c=a("5184"),m=Object(c["a"])(n||(n=Object(l["a"])(["\n\nquery (\n  $page: Int!\n  $perPage: Int!\n  $textSearch: String\n  $isResigned: Boolean\n  $status: String\n) {\n  getEmployees (\n    page: $page\n    perPage: $perPage\n    textSearch: $textSearch\n    isResigned: $isResigned\n    status: $status\n  ) {\n            employees {\n              _id\n            image {\n                src\n            }\n            employeeCode\n            firstName\n            lastName\n            dateOfBirth\n            contactName\n            idCardOrPassport\n            email\n            ssoId\n            isSso\n\n            emergencyContact {\n                fullName\n                contactNumber\n                relationshipId\n            }\n            bankAccount {\n                bankId\n                accountName\n                accountNumber\n            }\n            position\n            department\n\n            isExpat\n            isCompleted\n            }\n          employeesCount\n        }\n}\n\n"]))),d=Object(c["a"])(s||(s=Object(l["a"])(["\n\n    query(\n        $employeeId: ID!\n    ) {\n        getEmployee(\n            employeeId: $employeeId\n        ) {\n            _id\n            employeeCode\n            firstName\n            lastName\n            firstNameLao\n            lastNameLao\n            dateOfBirth\n            mobile\n            idCardOrPassport\n            email\n            ssoId\n            isSso\n            \n            emergencyContact {\n                fullName\n                relationshipId\n                contactNumber\n            }\n            bankAccount {\n                bankId\n                accountName\n                accountNumber\n            }\n\n            genderId \n            gender\n            maritalStatusId \n            nationalityId\n            image {\n                _id\n                name\n                src\n                size\n            }\n            isExpat\n            customFields \n\n        }\n    }\n\n"]))),u=Object(c["a"])(r||(r=Object(l["a"])(["\n\n    mutation(\n        $employeeCode: ID!\n        $firstName: String!\n        $lastName: String!\n        $dateOfBirth: Date\n        $mobile: String\n        $idCardOrPassport: String\n        $email: String\n        $ssoId: String\n        $isSso: Boolean!\n        $emergencyContact: EmergencyContactInput\n        $bankAccount: BankAccountInput\n\n        $genderId: ID!\n        $maritalStatusId: ID!\n        $nationalityId: ID!\n\n        $image: AddFileInput\n\n        $isExpat: Boolean!\n    ) {\n        addEmployee(\n            info: {\n                employeeCode: $employeeCode\n                firstName: $firstName\n                lastName: $lastName\n                dateOfBirth: $dateOfBirth\n                mobile: $mobile\n                idCardOrPassport: $idCardOrPassport\n                email: $email\n                ssoId: $ssoId\n                isSso: $isSso\n                emergencyContact: $emergencyContact\n                bankAccount: $bankAccount\n\n                genderId: $genderId\n                maritalStatusId: $maritalStatusId\n                nationalityId: $nationalityId\n                image: $image\n                isExpat: $isExpat\n            }\n        ) {\n            _id\n            firstName\n            lastName\n            dateOfBirth\n            mobile\n            idCardOrPassport\n            email\n            ssoId\n            isSso\n            emergencyContact {\n                fullName\n                relationshipId\n                contactNumber\n            }\n            bankAccount {\n                bankId\n                accountName\n                accountNumber\n            }\n\n            genderId\n            maritalStatusId \n            nationalityId\n            image {\n                _id\n                name\n            }\n            isExpat\n        }\n    }\n\n"]))),f=Object(c["a"])(i||(i=Object(l["a"])(["\n\n    mutation(\n        $employeeId: ID!\n\n        $employeeCode: ID!\n        $firstName: String!\n        $lastName: String!\n        $firstNameLao: String\n        $lastNameLao: String\n        $dateOfBirth: Date\n        $mobile: String\n        $idCardOrPassport: String\n        $email: String\n        $ssoId: String\n        $isSso: Boolean!\n        $emergencyContact: EmergencyContactInput\n        $bankAccount: BankAccountInput\n\n        $genderId: ID!\n        $maritalStatusId: ID!\n        $nationalityId: ID!\n\n        $image: AddFileInput\n        $isExpat: Boolean!\n\n    ) {\n        updateEmployee(\n            info: {\n                employeeId: $employeeId\n                employeeCode: $employeeCode\n                firstName: $firstName\n                lastName: $lastName\n\n                firstNameLao: $firstNameLao\n                lastNameLao: $lastNameLao\n\n                dateOfBirth: $dateOfBirth\n                mobile: $mobile\n                idCardOrPassport: $idCardOrPassport\n                email: $email\n                ssoId: $ssoId\n                isSso: $isSso\n                emergencyContact: $emergencyContact\n                bankAccount: $bankAccount\n\n                genderId: $genderId\n                maritalStatusId: $maritalStatusId\n                nationalityId: $nationalityId\n                image: $image\n\n                isExpat: $isExpat\n            }\n        ) {\n            _id\n            employeeCode\n            firstName\n            lastName\n            firstNameLao\n            lastNameLao\n            dateOfBirth\n            mobile\n            idCardOrPassport\n            email\n            ssoId\n            isSso\n            emergencyContact {\n                fullName\n                relationshipId\n                contactNumber\n            }\n            bankAccount {\n                bankId\n                accountName\n                accountNumber\n            }\n            genderId\n            maritalStatusId\n            nationalityId\n            image {\n                _id\n                name\n            }\n            isExpat\n        }\n    }\n\n"]))),p=Object(c["a"])(o||(o=Object(l["a"])(["\n    mutation (\n    $employeeId: ID!\n    $customFields: Any\n    ) {\n    updateCustomFieldsByEmp(\n        employeeId: $employeeId\n        customFields: $customFields\n    )\n    }\n\n"])))},"9e5c":function(t,e,a){t.exports=a.p+"img/male-avatar.22c96a1c.png"},ab43:function(t,e,a){"use strict";var n=a("23e7"),s=a("d024"),r=a("c430");n({target:"Iterator",proto:!0,real:!0,forced:r},{map:s})},d024:function(t,e,a){"use strict";var n=a("c65b"),s=a("59ed"),r=a("825a"),i=a("46c4"),o=a("c5cc"),l=a("9bdd"),c=o((function(){var t=this.iterator,e=r(n(this.next,t)),a=this.done=!!e.done;if(!a)return l(t,this.mapper,[e.value,this.counter++],!0)}));t.exports=function(t){return r(this),s(t),new c(i(this),{mapper:t})}},d81d:function(t,e,a){"use strict";var n=a("23e7"),s=a("b727").map,r=a("1dde"),i=r("map");n({target:"Array",proto:!0,forced:!i},{map:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},e0e4:function(t,e,a){},e896:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));var n,s=a("8785"),r=a("5184"),i=Object(r["a"])(n||(n=Object(s["a"])(["\n    \n    query (\n        $type: String!\n    ) {\n        getReuses(\n            type: $type\n        ) {\n            _id\n            name\n        }\n    }\n    \n"])))},efc7:function(t,e,a){"use strict";a("e0e4")},f665:function(t,e,a){"use strict";var n=a("23e7"),s=a("2266"),r=a("59ed"),i=a("825a"),o=a("46c4");n({target:"Iterator",proto:!0,real:!0},{find:function(t){i(this),r(t);var e=o(this),a=0;return s(e,(function(e,n){if(t(e,a++))return n(e)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})}}]);
//# sourceMappingURL=basic_detail.a20c8be4.js.map