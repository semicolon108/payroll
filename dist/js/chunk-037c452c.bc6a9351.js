(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-037c452c"],{"08f0":function(t,e,n){},a15b:function(t,e,n){"use strict";var a=n("23e7"),s=n("e330"),c=n("44ad"),r=n("fc6a"),i=n("a640"),u=s([].join),o=c!==Object,d=o||!i("join",",");a({target:"Array",proto:!0,forced:d},{join:function(t){return u(r(this),void 0===t?",":t)}})},afd9:function(t,e,n){"use strict";n("08f0")},c0b8:function(t,e,n){"use strict";n.r(e);n("b0c0");var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-container"},[e("div",{staticClass:"page-header"},[e("div",{staticClass:"header-start"},[e("h3",{staticClass:"page-title"},[t._v("Earning / Deduction")]),e("button",{staticClass:"button primary",on:{click:function(e){t.ModalClick="AddItem"}}},[t._v(" Add Item ")])]),e("div",{staticClass:"header-end"},[e("button",{staticClass:"button",on:{click:function(e){t.showGroup=!t.showGroup}}},[t._v(" Manage Group ")]),e("button",{staticClass:"button",class:{create:t.itemSelected.length},attrs:{disabled:!t.itemSelected.length},on:{click:t.openCreateGroupModal}},[t._v(" Create Group ")])])]),t.showGroup?e("div",{staticClass:"group-list slide-down"},t._l(t.earnDeductGroups,(function(n){return e("div",{key:n._id,staticClass:"group-item"},[e("span",[t._v(t._s(n.name))]),e("span",{staticClass:"count"},[t._v(t._s(n.earnDeductsCount))]),e("span",{on:{click:function(e){return t.editGroup(n)}}},[e("i",{staticClass:"fas fa-cog"})])])})),0):t._e(),e("div",{staticClass:"page-content"},[e("table",{staticClass:"table border-bottom is-fullwidth",attrs:{id:"my-table"}},[t._m(0),e("tbody",t._l(t.earnDeducts,(function(n){return e("tr",{key:n._id},[e("td",{staticClass:"wrap"},[e("div",{staticClass:"check"},[e("input",{ref:"Checkbox",refInFor:!0,attrs:{type:"checkbox",name:"",id:n._id}}),e("label",{attrs:{for:n._id},on:{click:function(e){return t.itemSelect(n._id)}}},[t._v(t._s(n.name))])])]),e("td",[t._v(t._s(n.type))]),e("td",[t._v(t._s(t._f("perttyArray")(n.groups)))]),e("td",[t._v(t._s(n.isBeforeTax?"BeforeTAX":"AfterTAX"))]),e("td",[e("div",{staticClass:"icons"},[e("span",{staticClass:"icon",on:{click:function(e){return t.editItem(n)}}},[e("i",{staticClass:"fas fa-pen bubble"})]),e("span",{staticClass:"icon alert",on:{click:function(e){return t.deleteItem(n)}}},[e("i",{staticClass:"fas fa-trash bubble"})])])])])})),0)])]),e(t.ModalClick,{ref:"Modal",tag:"component",on:{PushItem:t.pushItem,PushGroupItem:t.pushGroupItem,UpdateItem:t.updateItem,SpliceItem:t.spliceItem,UpdateGroupItem:t.updateGroupItem,SpliceGroupItem:t.spliceGroupItem,CloseModal:function(e){t.ModalClick=""}}})],1)},s=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("Item Name")]),e("th",{staticClass:"is-xs"},[t._v("Item Type")]),e("th",{},[t._v("Group")]),e("th",{staticClass:"is-xs"},[t._v("TAX")]),e("th",{staticClass:"is-xs"},[t._v("Option")])])])}],c=n("c7eb"),r=n("1da1"),i=(n("4de4"),n("c740"),n("caad"),n("a15b"),n("d81d"),n("14d9"),n("a434"),n("e9f5"),n("910d"),n("ab43"),n("d3b7"),n("2532"),n("6a43")),u=n("1100"),o=n("9890"),d=n("b42f"),l=n("c150"),p=n("e41e"),f={components:{AddItem:i["a"],CreateGroup:u["a"],ManageGroup:o["a"],DeleteItem:d["a"]},data:function(){return{showGroup:!1,itemSelected:[],ModalClick:"",earnDeducts:[],earnDeductGroups:[]}},filters:{perttyArray:function(t){return t.length?t.map((function(t){return t.name})).join(", "):"Ungroup"}},created:function(){this.getData()},methods:{itemSelect:function(t){var e=this.itemSelected.includes(t);e?this.itemSelected=this.itemSelected.filter((function(e){return e!==t})):this.itemSelected.push(t)},getData:function(){var t=this;return Object(r["a"])(Object(c["a"])().mark((function e(){return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["c"])();case 2:return t.earnDeducts=e.sent,e.next=5,Object(p["c"])();case 5:t.earnDeductGroups=e.sent;case 6:case"end":return e.stop()}}),e)})))()},openCreateGroupModal:function(){var t=this;this.ModalClick="CreateGroup",this.$nextTick((function(){t.$refs.Modal.form.earnDeductIds=t.itemSelected}))},pushItem:function(t){var e=this;return Object(r["a"])(Object(c["a"])().mark((function n(){return Object(c["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.earnDeducts.push(t),n.next=3,Object(p["c"])();case 3:e.earnDeductGroups=n.sent;case 4:case"end":return n.stop()}}),n)})))()},updateItem:function(t){var e=this;return Object(r["a"])(Object(c["a"])().mark((function n(){var a;return Object(c["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.earnDeducts.findIndex((function(e){return e._id===t._id})),e.earnDeducts.splice(a,1,t),n.next=4,Object(p["c"])();case 4:e.earnDeductGroups=n.sent;case 5:case"end":return n.stop()}}),n)})))()},pushGroupItem:function(){this.itemSelected=[],this.$refs.Checkbox.map((function(t){t.checked=!1})),this.getData()},updateGroupItem:function(t){var e=this;return Object(r["a"])(Object(c["a"])().mark((function n(){var a;return Object(c["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.earnDeductGroups.findIndex((function(e){return e._id===t._id})),e.earnDeductGroups.splice(a,1,t),n.next=4,Object(l["c"])();case 4:e.earnDeducts=n.sent;case 5:case"end":return n.stop()}}),n)})))()},spliceGroupItem:function(t){var e=this;return Object(r["a"])(Object(c["a"])().mark((function n(){var a;return Object(c["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.earnDeductGroups.findIndex((function(e){return e._id===t._id})),e.earnDeductGroups.splice(a,1),n.next=4,Object(l["c"])();case 4:e.earnDeducts=n.sent;case 5:case"end":return n.stop()}}),n)})))()},spliceItem:function(t){var e=this.earnDeducts.findIndex((function(e){return e._id===t}));this.earnDeducts.splice(e,1)},editItem:function(t){var e=this;this.ModalClick="AddItem",this.$nextTick((function(){e.$refs.Modal.isEditMode=!0,e.$refs.Modal.form={earnDeductId:t._id,name:t.name,type:t.type,isBeforeTax:t.isBeforeTax,isBeforeSso:t.isBeforeSso,earnDeductGroupIds:t.groups.map((function(t){return t._id}))}}))},deleteItem:function(t){var e=this;this.ModalClick="DeleteItem",this.$nextTick((function(){e.$refs.Modal.earnDeductId=t._id,e.$refs.Modal.name=t.name}))},editGroup:function(t){var e=this;this.ModalClick="ManageGroup",this.$nextTick((function(){e.$refs.Modal.form={name:t.name,earnDeductGroupId:t._id,earnDeductIds:t.earnDeductIds.map((function(t){return t._id}))},e.$refs.Modal.earnDeducts=t.earnDeductIds}))}}},h=f,m=(n("afd9"),n("2877")),b=Object(m["a"])(h,a,s,!1,null,"39dc4096",null);e["default"]=b.exports}}]);
//# sourceMappingURL=chunk-037c452c.bc6a9351.js.map