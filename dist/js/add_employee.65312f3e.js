(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["add_employee"],{"0cb2":function(e,t,n){"use strict";var a=n("e330"),r=n("7b0b"),i=Math.floor,o=a("".charAt),s=a("".replace),c=a("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,a,d,p){var f=n+e.length,v=a.length,m=l;return void 0!==d&&(d=r(d),m=u),s(p,m,(function(r,s){var u;switch(o(s,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,n);case"'":return c(t,f);case"<":u=d[c(s,1,-1)];break;default:var l=+s;if(0===l)return r;if(l>v){var p=i(l/10);return 0===p?r:p<=v?void 0===a[p-1]?o(s,1):a[p-1]+o(s,1):r}u=a[l-1]}return void 0===u?"":u}))}},"107c":function(e,t,n){"use strict";var a=n("d039"),r=n("cfe9"),i=r.RegExp;e.exports=a((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},"14c3":function(e,t,n){"use strict";var a=n("c65b"),r=n("825a"),i=n("1626"),o=n("c6b6"),s=n("9263"),c=TypeError;e.exports=function(e,t){var n=e.exec;if(i(n)){var u=a(n,e,t);return null!==u&&r(u),u}if("RegExp"===o(e))return a(s,e,t);throw new c("RegExp#exec called on incompatible receiver")}},5319:function(e,t,n){"use strict";var a=n("2ba4"),r=n("c65b"),i=n("e330"),o=n("d784"),s=n("d039"),c=n("825a"),u=n("1626"),l=n("7234"),d=n("5926"),p=n("50c4"),f=n("577e"),v=n("1d80"),m=n("8aa5"),g=n("dc4a"),b=n("0cb2"),x=n("14c3"),$=n("b622"),y=$("replace"),h=Math.max,D=Math.min,k=i([].concat),I=i([].push),w=i("".indexOf),O=i("".slice),_=function(e){return void 0===e?e:String(e)},C=function(){return"$0"==="a".replace(/./,"$0")}(),j=function(){return!!/./[y]&&""===/./[y]("a","$0")}(),E=!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));o("replace",(function(e,t,n){var i=j?"$":"$0";return[function(e,n){var a=v(this),i=l(e)?void 0:g(e,y);return i?r(i,e,a,n):r(t,f(a),e,n)},function(e,r){var o=c(this),s=f(e);if("string"==typeof r&&-1===w(r,i)&&-1===w(r,"$<")){var l=n(t,o,s,r);if(l.done)return l.value}var v=u(r);v||(r=f(r));var g,$=o.global;$&&(g=o.unicode,o.lastIndex=0);var y,C=[];while(1){if(y=x(o,s),null===y)break;if(I(C,y),!$)break;var j=f(y[0]);""===j&&(o.lastIndex=m(s,p(o.lastIndex),g))}for(var E="",R=0,S=0;S<C.length;S++){y=C[S];for(var P,M=f(y[0]),A=h(D(d(y.index),s.length),0),G=[],H=1;H<y.length;H++)I(G,_(y[H]));var N=y.groups;if(v){var F=k([M],G,A,s);void 0!==N&&I(F,N),P=f(a(r,void 0,F))}else P=b(M,s,A,G,N,r);A>=R&&(E+=O(s,R,A)+P,R=A+M.length)}return E+O(s,R)}]}),!E||!C||j)},"561f":function(e,t,n){"use strict";n.d(t,"c",(function(){return v})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return g}));var a,r,i,o=n("c7eb"),s=n("1da1"),c=(n("d3b7"),n("47b6")),u=n("8785"),l=n("5184"),d=Object(l["a"])(a||(a=Object(u["a"])(["\n\nquery (\n    $employeeId: ID!\n) {\n  getHiringDetail(\n      employeeId: $employeeId\n  ) {\n      _id\n\n      employeeId\n      dateOfJoining\n      probationEndDate\n      positionId\n      workingDayGroupId\n      workingLocationId\n      currencyId\n      wageType\n      salary\n      salaryGrade\n\n      workPermit {\n        startDate\n        endDate\n        daysOfNotify\n      }\n      isOpenContract\n      contractEndDate\n     resignationDate\n     isResigned\n    salaryHistories {\n      beforeCurrency\n      afterCurrency\n        type\n        refDate\n        adjustmentAmount\n        beforeAdjustment\n        afterAdjustment\n        memo\n        \n\n        \n    }\n\n    pensionFund \n  }\n}\n\n\n"]))),p=Object(l["a"])(r||(r=Object(u["a"])(["\n\nmutation (\n        $employeeId: ID!\n        $dateOfJoining: Date!\n        $workingDayGroupId: ID!\n        $workingLocationId: ID!\n        $currencyId: ID!\n        $salary: Int!\n        $salaryGrade: String\n        $positionId: ID!\n\n\n        $isOpenContract: Boolean!\n        $workPermit: WorkPermitInput!\n        \n        $contractEndDate: Date\n        $probationEndDate: Date\n  $resignationDate:  Date\n  $pensionFund: Any\n    ) {\n        addOrUpdateHiringDetail(\n            info: {\n                employeeId: $employeeId\n              positionId: $positionId\n\n                dateOfJoining: $dateOfJoining\n                probationEndDate: $probationEndDate\n                workingDayGroupId: $workingDayGroupId\n              workingLocationId: $workingLocationId\n                currencyId: $currencyId\n                salary: $salary\n                salaryGrade: $salaryGrade\n\n                workPermit: $workPermit\n                contractEndDate: $contractEndDate\n                isOpenContract: $isOpenContract\n              resignationDate: $resignationDate\n              pensionFund: $pensionFund\n            }\n        ) {\n            _id\n\n            employeeId\n            dateOfJoining\n            probationEndDate\n            positionId\n            workingDayGroupId\n          workingLocationId\n            currencyId\n            salary\n            salaryGrade\n        \n\n            workPermit {\n                startDate\n                endDate\n                daysOfNotify\n            }\n            isOpenContract\n            contractEndDate\n            resignationDate\n          pensionFund\n        \n        }\n    }\n    \n"]))),f=Object(l["a"])(i||(i=Object(u["a"])(["\n\n    mutation (\n        $info: AdjustSalaryInput\n    ) {\n        adjustSalary(info: $info)\n    }\n    \n"]))),v=function(e){return new Promise(function(){var t=Object(s["a"])(Object(o["a"])().mark((function t(n,a){var r;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c["a"].query({query:d,variables:{employeeId:e}});case 3:r=t.sent,n(r.data.getHiringDetail),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),a(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}())},m=function(e){return new Promise(function(){var t=Object(s["a"])(Object(o["a"])().mark((function t(n,a){var r;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c["a"].mutate({mutation:p,variables:e});case 3:r=t.sent,n(r.data.addOrUpdateHiringDetail),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),a(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}())},g=function(e){return new Promise(function(){var t=Object(s["a"])(Object(o["a"])().mark((function t(n,a){var r;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c["a"].mutate({mutation:f,variables:{info:e}});case 3:r=t.sent,n(r.data.adjustSalary),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),a(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}())}},"8aa5":function(e,t,n){"use strict";var a=n("6547").charAt;e.exports=function(e,t,n){return t+(n?a(e,t).length:1)}},9263:function(e,t,n){"use strict";var a=n("c65b"),r=n("e330"),i=n("577e"),o=n("ad6d"),s=n("9f7f"),c=n("5692"),u=n("7c73"),l=n("69f3").get,d=n("fce3"),p=n("107c"),f=c("native-string-replace",String.prototype.replace),v=RegExp.prototype.exec,m=v,g=r("".charAt),b=r("".indexOf),x=r("".replace),$=r("".slice),y=function(){var e=/a/,t=/b*/g;return a(v,e,"a"),a(v,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),h=s.BROKEN_CARET,D=void 0!==/()??/.exec("")[1],k=y||D||h||d||p;k&&(m=function(e){var t,n,r,s,c,d,p,k=this,I=l(k),w=i(e),O=I.raw;if(O)return O.lastIndex=k.lastIndex,t=a(m,O,w),k.lastIndex=O.lastIndex,t;var _=I.groups,C=h&&k.sticky,j=a(o,k),E=k.source,R=0,S=w;if(C&&(j=x(j,"y",""),-1===b(j,"g")&&(j+="g"),S=$(w,k.lastIndex),k.lastIndex>0&&(!k.multiline||k.multiline&&"\n"!==g(w,k.lastIndex-1))&&(E="(?: "+E+")",S=" "+S,R++),n=new RegExp("^(?:"+E+")",j)),D&&(n=new RegExp("^"+E+"$(?!\\s)",j)),y&&(r=k.lastIndex),s=a(v,C?n:k,S),C?s?(s.input=$(s.input,R),s[0]=$(s[0],R),s.index=k.lastIndex,k.lastIndex+=s[0].length):k.lastIndex=0:y&&s&&(k.lastIndex=k.global?s.index+s[0].length:r),D&&s&&s.length>1&&a(f,s[0],n,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(s[c]=void 0)})),s&&_)for(s.groups=d=u(null),c=0;c<_.length;c++)p=_[c],d[p[0]]=s[p[1]];return s}),e.exports=m},"9f7f":function(e,t,n){"use strict";var a=n("d039"),r=n("cfe9"),i=r.RegExp,o=a((function(){var e=i("a","y");return e.lastIndex=2,null!==e.exec("abcd")})),s=o||a((function(){return!i("a","y").sticky})),c=o||a((function(){var e=i("^r","gy");return e.lastIndex=2,null!==e.exec("str")}));e.exports={BROKEN_CARET:c,MISSED_STICKY:s,UNSUPPORTED_Y:o}},a81c:function(e,t,n){"use strict";n.r(t);n("b0c0"),n("ac1f"),n("5319");var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"page-container"},[t("div",{staticClass:"page-header"},[t("div",{staticClass:"header-start"},[t("h3",{staticClass:"page-title"},[e._v(e._s(e.$route.params.id?e.$route.params.name:"Add Employee"))]),e.$route.params.id?t("button",{staticClass:"button alert",on:{click:function(t){e.isResignationModal=!0}}},[e._v("Resign ")]):e._e()]),t("div",{staticClass:"header-end"},[t("button",{staticClass:"button grey",on:{click:function(t){return e.$router.replace({name:"employee"})}}},[e._v("Close")]),"document"===e.$route.name?t("button",{staticClass:"button primary size-lg",on:{click:function(t){return e.$router.replace({name:"employee"})}}},[e._v("Finish")]):e._e(),"document"!==e.$route.name&&"basic_detail"===e.$route.name?t("button",{staticClass:"button primary",on:{click:function(t){return e.$refs.refRoute.saveAndContinue()}}},[e._v("Save and continue")]):e._e(),"document"!==e.$route.name&&"basic_detail"!==e.$route.name?t("button",{staticClass:"button primary",on:{click:function(t){return e.$refs.refRoute.saveOnly()}}},[e._v("Save")]):e._e()])]),e.$route.params.id?t("div",{staticClass:"steps"},[t("router-link",{staticClass:"step",class:{"router-link-exact-active":"edit_basic_detail"===e.$route.name},attrs:{to:{name:"edit_basic_detail",params:{id:e.$route.params.id,name:e.$route.params.name}}}},[e._v("1. Basic Detail ")]),t("router-link",{staticClass:"step",class:{"router-link-exact-active":"hiring_detail"===e.$route.name},attrs:{to:{name:"hiring_detail",params:{id:e.$route.params.id,name:e.$route.params.name}}}},[e._v("2. Hiring Detail ")]),t("router-link",{staticClass:"step",class:{"router-link-exact-active":"earning"===e.$route.name},attrs:{to:{name:"earning",params:{id:e.$route.params.id,name:e.$route.params.name}}}},[e._v("3. Earning / Deduction ")]),t("router-link",{staticClass:"step",class:{"router-link-exact-active":"custom_field"===e.$route.name},attrs:{to:{name:"custom_field",params:{id:e.$route.params.id,name:e.$route.params.name}}}},[e._v("4. Custom Field ")]),t("router-link",{staticClass:"step",class:{"router-link-exact-active":"document"===e.$route.name},attrs:{to:{name:"document",params:{id:e.$route.params.id,name:e.$route.params.name}}}},[e._v("5. Document ")])],1):e._e(),t("div",{staticClass:"page-content"},[t("router-view",{ref:"refRoute"})],1),e.isResignationModal?t("ResignationModal",{on:{CloseModal:function(t){e.isResignationModal=!1}}}):e._e()],1)},r=[],i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal is-active"},[t("div",{staticClass:"modal-background",on:{click:e.closeModal}}),t("ValidationObserver",{staticClass:"modal-card slide-down",attrs:{tag:"div"},scopedSlots:e._u([{key:"default",fn:function(n){var a=n.handleSubmit;return[t("header",{staticClass:"modal-card-head"},[t("h3",[e._v("Set Resignation Date")]),t("button",{staticClass:"modal-close is-large",attrs:{"aria-label":"close"},on:{click:e.closeModal}})]),t("section",{staticClass:"modal-card-body"},[t("div",{staticClass:"field"},[t("label",{staticClass:"label",attrs:{for:""}},[e._v("Date")]),t("div",{staticClass:"control"},[t("ValidationProvider",{attrs:{name:"Resignation Date",rules:"isDateOrNull"},scopedSlots:e._u([{key:"default",fn:function(n){var a=n.errors;return[t("DatePicker",{attrs:{"default-value":e.defaultDate},model:{value:e.hiringDetail.resignationDate,callback:function(t){e.$set(e.hiringDetail,"resignationDate",t)},expression:"hiringDetail.resignationDate"}}),t("p",{staticClass:"has-text-danger"},[e._v(e._s(a[0]))])]}}],null,!0)})],1)])]),t("footer",{staticClass:"modal-card-foot"},[t("button",{staticClass:"button primary",on:{click:function(t){return a(e.addOrUpdateHirringDetail)}}},[e._v("Save")])])]}}])})],1)},o=[],s=n("c7eb"),c=n("5530"),u=n("1da1"),l=(n("d9e2"),n("9c51")),d=n("561f"),p=n("c1df"),f=n.n(p),v={props:["isEditMode"],components:{DatePicker:l["a"]},data:function(){return{hiringDetail:{},defaultDate:null}},methods:{closeModal:function(){this.$emit("CloseModal")},getHiringDetail:function(){var e=this;return Object(u["a"])(Object(s["a"])().mark((function t(){var n;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(d["c"])(e.$route.params.id);case 2:n=t.sent,e.hiringDetail=Object(c["a"])(Object(c["a"])({},n),{},{workPermit:{startDate:n.workPermit.startDate,endDate:n.workPermit.endDate,daysOfNotify:n.workPermit.daysOfNotify}}),e.defaultDate=e.hiringDetail.resignationDate?f()(e.hiringDetail.resignationDate).locale("lo"):null;case 5:case"end":return t.stop()}}),t)})))()},addOrUpdateHirringDetail:function(){var e=this;return Object(u["a"])(Object(s["a"])().mark((function t(){return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("loading");case 3:return t.next=5,Object(d["a"])(e.hiringDetail);case 5:return t.next=7,e.$store.dispatch("completed");case 7:e.closeModal(),t.next=15;break;case 10:return t.prev=10,t.t0=t["catch"](0),t.next=14,e.$store.dispatch("error");case 14:throw new Error(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,10]])})))()}},created:function(){this.getHiringDetail()}},m=v,g=n("2877"),b=Object(g["a"])(m,i,o,!1,null,"9ed4acec",null),x=b.exports,$={components:{ResignationModal:x},data:function(){return{isResignationModal:!1}}},y=$,h=(n("e61e"),Object(g["a"])(y,a,r,!1,null,"3a6091f0",null));t["default"]=h.exports},ac1f:function(e,t,n){"use strict";var a=n("23e7"),r=n("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad6d:function(e,t,n){"use strict";var a=n("825a");e.exports=function(){var e=a(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},d029:function(e,t,n){},d784:function(e,t,n){"use strict";n("ac1f");var a=n("c65b"),r=n("cb2d"),i=n("9263"),o=n("d039"),s=n("b622"),c=n("9112"),u=s("species"),l=RegExp.prototype;e.exports=function(e,t,n,d){var p=s(e),f=!o((function(){var t={};return t[p]=function(){return 7},7!==""[e](t)})),v=f&&!o((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[u]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return t=!0,null},n[p](""),!t}));if(!f||!v||n){var m=/./[p],g=t(p,""[e],(function(e,t,n,r,o){var s=t.exec;return s===i||s===l.exec?f&&!o?{done:!0,value:a(m,t,n,r)}:{done:!0,value:a(e,n,t,r)}:{done:!1}}));r(String.prototype,e,g[0]),r(l,p,g[1])}d&&c(l[p],"sham",!0)}},e61e:function(e,t,n){"use strict";n("d029")},fce3:function(e,t,n){"use strict";var a=n("d039"),r=n("cfe9"),i=r.RegExp;e.exports=a((function(){var e=i(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)}))}}]);
//# sourceMappingURL=add_employee.65312f3e.js.map