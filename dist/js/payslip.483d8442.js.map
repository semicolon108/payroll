{"version":3,"sources":["webpack:///./src/components/PayrollCalculation/Payslip/payslip-list.vue?5e1a","webpack:///./src/components/PayrollCalculation/Payslip/payslip-list.vue","webpack:///./src/components/PayrollCalculation/Payslip/Modal/confirm.vue","webpack:///src/components/PayrollCalculation/Payslip/Modal/confirm.vue","webpack:///./src/components/PayrollCalculation/Payslip/Modal/confirm.vue?e3b8","webpack:///./src/components/PayrollCalculation/Payslip/Modal/confirm.vue?74e1","webpack:///src/components/PayrollCalculation/Payslip/payslip-list.vue","webpack:///./src/components/PayrollCalculation/Payslip/payslip-list.vue?fc22","webpack:///./src/components/PayrollCalculation/Payslip/payslip-list.vue?3b50","webpack:///./src/components/PayrollCalculation/Payslip/Modal/confirm.vue?0570","webpack:///./src/graphql/Payroll.js","webpack:///./src/apis/payroll-api.js","webpack:///./node_modules/core-js/modules/es.iterator.map.js","webpack:///./node_modules/core-js/internals/iterator-map.js","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["render","_vm","this","_c","_self","staticClass","_m","class","bulkSending","on","sendPayslipByEmps","_v","attrs","_l","items","i","key","_id","_s","employeeCode","fullName","_f","finalNetPay","isPayslipSent","isRequestSent","$event","downloadPayslip","employeeId","modal","tag","CloseModal","staticRenderFns","methods","$emit","component","components","confirm","data","sending","payrollEmps","isLoading","created","getPayrollByEmps","computed","_objectSpread","mapGetters","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","isConfirmed","mappedEmps","form","wrap","_context2","prev","next","$dialog","sent","map","$store","dispatch","monthlyPaymentId","$route","params","id","employeeIds","setTimeout","_callee","_context","stop","_this2","_callee3","_context3","employees","_this3","_callee4","res","url","link","_context4","$axios","defaults","headers","getToken","post","concat","$api","responseType","URL","createObjectURL","Blob","type","window","document","createElement","href","setAttribute","body","appendChild","click","t0","Error","bulkSend","GET_INCOMPLETE_EMPS","gql","_templateObject","_taggedTemplateLiteral","GET_PAYROLL_BY_MONTHS","_templateObject2","GET_TOTAL_PAYROLL","_templateObject3","GET_PAYROLL_BY_EMPS","_templateObject4","CALC_PAYROLL","_templateObject5","SEND_REQUEST_CALC","_templateObject6","SEND_PAYSLIP_BY_EMPS","_templateObject7","SEND_PAYSLIP","_templateObject8","ADD_PAYROLL","_templateObject9","DELETE_PAYROLL","_templateObject10","getIncompleteEmps","Promise","_ref","resolve","reject","apolloClient","query","_x","_x2","apply","arguments","getPayrollByMonths","_ref2","_x3","_x4","getTotalPayroll","_ref3","variables","_x5","_x6","_ref4","_x7","_x8","calcPayroll","status","_ref5","_callee5","_context5","mutate","mutation","_x9","_x10","sendRequestCalc","_ref6","_callee6","_context6","_x11","_x12","sendPayslip","_ref7","_callee7","_context7","_x13","_x14","_ref8","_callee8","_context8","_x15","_x16","addPayroll","workGroupId","_ref9","_callee9","_context9","_x17","_x18","deletePayroll","_ref10","_callee10","_context10","_x19","_x20","$","IS_PURE","target","proto","real","forced","call","aCallable","anObject","getIteratorDirect","createIteratorProxy","callWithSafeIterationClosing","IteratorProxy","iterator","result","done","mapper","value","counter","module","exports","$map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","callbackfn","length","undefined"],"mappings":"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","file":"js/payslip.483d8442.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./payslip-list.vue?vue&type=style&index=0&id=61cae07d&prod&lang=scss&scoped=true\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"page-header no-border no-padding margin-bottom-20 no-shadow\"},[_vm._m(0),_c('div',{staticClass:\"header-end\"},[_c('button',{staticClass:\"button primary\",class:{ 'bulk-sending': _vm.bulkSending },on:{\"click\":_vm.sendPayslipByEmps}},[_vm._m(1),_vm._m(2),_c('span',[_vm._v(\"Send Bulk Payslip\")]),_c('span',[_vm._v(\"Sending\")])])])]),_c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"table-container\"},[_c('table',{staticClass:\"table is-fullwidth\",attrs:{\"id\":\"my-table\"}},[_vm._m(3),_c('tbody',_vm._l((_vm.items),function(i){return _c('tr',{key:i._id},[_c('td',[_vm._v(_vm._s(i.employeeCode))]),_c('td',[_vm._v(_vm._s(i.fullName))]),_c('td',[_vm._v(_vm._s(_vm._f(\"currency\")(i.finalNetPay)))]),_c('td',{staticClass:\"is-right\"},[_vm._v(\" \"+_vm._s(i.isPayslipSent ? \"Sent\" : i.isRequestSent ? \"Pending\" : \"Unsend\")+\" \")]),_c('td',{staticClass:\"is-right\"},[_c('ul',{staticClass:\"option\"},[_c('li',{on:{\"click\":function($event){return _vm.downloadPayslip(i.employeeId)}}},[_vm._v(\"Preview\")])])])])}),0)])])]),_c(_vm.modal,{tag:\"component\",on:{\"Close\":_vm.CloseModal}})],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"header-start\"},[_c('div',{staticClass:\"header-title\"},[_c('h3',[_vm._v(\"Payslip\")])])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',[_c('i',{staticClass:\"fal fa-paper-plane\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',[_c('i',{staticClass:\"fas fa-plane\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('thead',[_c('tr',[_c('th',{staticClass:\"is-xxs\"},[_vm._v(\"Employee ID\")]),_c('th',[_vm._v(\"Employee name\")]),_c('th',{staticClass:\"is-sm\"},[_vm._v(\"Net pay\")]),_c('th',{staticClass:\"is-xxs is-right\"},[_vm._v(\"Status\")]),_c('th',{staticClass:\"is-sm is-right\"},[_vm._v(\"Option\")])])])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"modal is-active\"},[_c('div',{staticClass:\"modal-background\",on:{\"click\":function($event){return _vm.CloseModal()}}}),_c('div',{staticClass:\"modal-content slide-down\"},[_c('div',{staticClass:\"box\"},[_c('button',{staticClass:\"modal-close is-large\",attrs:{\"aria-label\":\"close\"},on:{\"click\":function($event){return _vm.CloseModal()}}}),_c('h3',[_vm._v(\"Are you sure?\")]),_vm._m(0),_c('button',{staticClass:\"button primary\",on:{\"click\":function($event){return _vm.CloseModal()}}},[_vm._v(\"Confirm\")])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\"You are going to resend payslip to all of your candidates \"),_c('span',[_vm._v(\"30/30\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n<div class=\"modal is-active\">\r\n    <div class=\"modal-background\" @click=\"CloseModal()\"></div>\r\n    <div class=\"modal-content slide-down\">\r\n        <div class=\"box\">\r\n            <button @click=\"CloseModal()\" class=\"modal-close is-large\" aria-label=\"close\"></button>\r\n            <h3>Are you sure?</h3>\r\n            <p>You are going to resend payslip to all of your candidates <span>30/30</span></p>\r\n            <button @click=\"CloseModal()\" class=\"button primary\">Confirm</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        methods: {\r\n            CloseModal(){\r\n                this.$emit('Close')\r\n            }\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.modal-background{\r\n    background-color: rgba(#000000, .3);\r\n    cursor: pointer;\r\n}\r\n.box{\r\n    position: relative;\r\n    padding: 40px;\r\n    h3{\r\n        margin: 0 0 10px 0;\r\n    }\r\n    span{\r\n        color: $primary-color;\r\n        font-weight: 700;\r\n        cursor: pointer;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./confirm.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./confirm.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./confirm.vue?vue&type=template&id=b391a79a&scoped=true\"\nimport script from \"./confirm.vue?vue&type=script&lang=js\"\nexport * from \"./confirm.vue?vue&type=script&lang=js\"\nimport style0 from \"./confirm.vue?vue&type=style&index=0&id=b391a79a&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b391a79a\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"container\">\r\n    <!-- <div class=\"tips\">\r\n            <span>Payslip is sending in background you can close this windows</span>\r\n            <i class=\"fal fa-times-circle\"></i>\r\n        </div> -->\r\n    <div class=\"page-header no-border no-padding margin-bottom-20 no-shadow\">\r\n      <div class=\"header-start\">\r\n        <div class=\"header-title\">\r\n          <h3>Payslip</h3>\r\n        </div>\r\n      </div>\r\n      <div class=\"header-end\">\r\n        <!-- <div class=\"completed-count\">\r\n                    <h3>Sent completed</h3>\r\n                    <ul>\r\n                        <li>20</li>\r\n                        <li>of</li>\r\n                        <li>30</li>\r\n                    </ul>\r\n                </div> -->\r\n        <button\r\n          class=\"button primary\"\r\n          :class=\"{ 'bulk-sending': bulkSending }\"\r\n          @click=\"sendPayslipByEmps\"\r\n        >\r\n          <span><i class=\"fal fa-paper-plane\"></i></span>\r\n          <span><i class=\"fas fa-plane\"></i></span>\r\n          <span>Send Bulk Payslip</span>\r\n          <span>Sending</span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"box\">\r\n      <div class=\"table-container\">\r\n        <table class=\"table is-fullwidth\" id=\"my-table\">\r\n          <thead>\r\n            <tr>\r\n              <th class=\"is-xxs\">Employee ID</th>\r\n              <th>Employee name</th>\r\n              <th class=\"is-sm\">Net pay</th>\r\n              <!-- <th class=\"is-md\">Email</th> -->\r\n              <!-- <th class=\"is-xs\">Contact number</th> -->\r\n              <th class=\"is-xxs is-right\">Status</th>\r\n              <th class=\"is-sm is-right\">Option</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"i in items\" :key=\"i._id\">\r\n              <td>{{ i.employeeCode }}</td>\r\n              <td>{{ i.fullName }}</td>\r\n              <td>{{ i.finalNetPay | currency }}</td>\r\n              <!-- <td>{{i.email}}</td> -->\r\n              <!-- <td>{{i.mobile}}</td> -->\r\n              <td class=\"is-right\">\r\n                {{\r\n                  i.isPayslipSent\r\n                    ? \"Sent\"\r\n                    : i.isRequestSent\r\n                    ? \"Pending\"\r\n                    : \"Unsend\"\r\n                }}\r\n              </td>\r\n              <td class=\"is-right\">\r\n                <ul class=\"option\">\r\n                  <li @click=\"downloadPayslip(i.employeeId)\">Preview</li>\r\n                  <!-- <li>|</li>\r\n                                    <li :class=\"{'sending' : sending}\">\r\n                                        <span @click=\"sending = true\">Send</span>\r\n                                        <span></span>\r\n                                    </li> -->\r\n                </ul>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n\r\n    <component :is=\"modal\" @Close=\"CloseModal\"></component>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getPayrollByEmps } from \"@/apis/payroll-api\";\r\nimport confirm from \"./Modal/confirm.vue\";\r\nimport { mapGetters } from \"vuex\";\r\nimport { sendPayslipByEmps } from \"@/apis/payroll-api\";\r\n\r\n//import moment from 'moment'\r\nexport default {\r\n  components: {\r\n    confirm,\r\n  },\r\n  data: () => ({\r\n    sending: false,\r\n    bulkSending: false,\r\n    modal: \"\",\r\n    payrollEmps: {},\r\n    items: [],\r\n    isLoading: true,\r\n  }),\r\n  created() {\r\n    this.getPayrollByEmps();\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"getToken\"]),\r\n  },\r\n  methods: {\r\n    async sendPayslipByEmps() {\r\n      const isConfirmed = await this.$dialog.confirm();\r\n      if (isConfirmed) {\r\n        this.bulkSending = true;\r\n\r\n        const mappedEmps = this.items.map((i) => i.employeeId);\r\n\r\n        await this.$store.dispatch(\"loading\");\r\n\r\n        const form = {\r\n          monthlyPaymentId: this.$route.params.id,\r\n          employeeIds: mappedEmps,\r\n        };\r\n\r\n        await sendPayslipByEmps(form);\r\n\r\n        this.getPayrollByEmps();\r\n\r\n        await setTimeout(async () => {\r\n          await this.$store.dispatch(\"stopLoading\");\r\n\r\n          this.bulkSending = false;\r\n        }, 1800);\r\n      }\r\n    },\r\n    async getPayrollByEmps() {\r\n      this.payrollEmps = await getPayrollByEmps(this.$route.params.id);\r\n      this.items = this.payrollEmps.employees;\r\n      //.map(i => {\r\n      // const filtered = i.customFormulas.filter(o => !o.isFinalNetPay)\r\n\r\n      // const customFormula = {}\r\n      // for(let n=0; n < filtered.length; n++) {\r\n      //     customFormula[filtered[n].key] = parseInt(filtered[n].value, 10)\r\n      // }\r\n      //     return {\r\n      //     ...i,\r\n      //     ...customFormula,\r\n      //     isActive: false,\r\n      //     isEditMode: false,\r\n      //     startWorkingDate: moment(i.startWorkingDate).locale('lo').format('DD-MM-YYYY')\r\n      //     }\r\n      // })\r\n\r\n      setTimeout(() => {\r\n        this.isLoading = false;\r\n      }, 400);\r\n    },\r\n    async downloadPayslip(id) {\r\n      try {\r\n        await this.$store.dispatch(\"loading\");\r\n        this.$axios.defaults.headers[\"Authorization\"] = this.getToken;\r\n        const res = await this.$axios.post(\r\n          `${this.$api}download-payslip/${this.$route.params.id}/${id}`,\r\n          null,\r\n          {\r\n            responseType: \"blob\",\r\n          }\r\n        );\r\n        const url = URL.createObjectURL(\r\n          new Blob([res.data], {\r\n            type: \"application/pdf\",\r\n          })\r\n        );\r\n        const link = window.document.createElement(\"a\"); // window was root\r\n        link.href = url;\r\n        link.setAttribute(\"download\", `Payslip-Preview.pdf`);\r\n        window.document.body.appendChild(link);\r\n        link.click();\r\n        await this.$store.dispatch(\"completed\");\r\n      } catch (e) {\r\n        throw new Error(e);\r\n      }\r\n    },\r\n    bulkSend() {\r\n      this.modal = \"confirm\";\r\n    },\r\n    CloseModal() {\r\n      this.modal = \"\";\r\n      (this.bulkSending = true), (this.sending = true);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.tips {\r\n  position: absolute;\r\n  width: 100%;\r\n  background-color: $warning-color;\r\n  z-index: 1;\r\n  padding: 10px 10px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding-left: 20px;\r\n  transition: all ease 0.2s;\r\n  p {\r\n    margin: 0;\r\n    line-height: 1;\r\n  }\r\n  i {\r\n    cursor: pointer;\r\n    font-size: 20px;\r\n    margin: 0;\r\n  }\r\n}\r\n\r\n.header-end {\r\n  display: flex;\r\n  align-items: center;\r\n  .completed-count {\r\n    display: flex;\r\n    h3 {\r\n      margin: 0 10px 0 0;\r\n      font-size: 16px;\r\n      font-weight: 500;\r\n    }\r\n    ul {\r\n      display: flex;\r\n      align-items: center;\r\n      margin: 0;\r\n      li {\r\n        font-size: 16px;\r\n        list-style-type: none;\r\n        margin: 0;\r\n        line-height: 1;\r\n        padding: 0 3px;\r\n        &:nth-child(1) {\r\n          font-weight: 700;\r\n          cursor: pointer;\r\n          color: $primary-color;\r\n        }\r\n        &:nth-child(3) {\r\n          font-weight: 700;\r\n          cursor: pointer;\r\n        }\r\n      }\r\n    }\r\n  } // completed count\r\n  button.button {\r\n    transition: ease 0.2s;\r\n    overflow: hidden;\r\n    span:nth-child(2),\r\n    :nth-child(4) {\r\n      display: none;\r\n    }\r\n    &.bulk-sending {\r\n      background-color: $dark-primary-color;\r\n      background-size: 400% 400%;\r\n      border: 1px solid $dark-primary-color;\r\n      transition: ease 0.1s;\r\n      animation: gradient 0.1s ease infinite;\r\n      span {\r\n        text-align: center;\r\n        i {\r\n          text-align: center;\r\n          margin-right: 15px;\r\n        }\r\n        &:nth-child(1) {\r\n          display: none;\r\n        }\r\n        &:nth-child(2) {\r\n          margin: 0;\r\n          padding: 0;\r\n          display: block;\r\n          position: relative;\r\n          right: -10px;\r\n          animation: send-left 1s;\r\n          &:after {\r\n            animation: sends 0.5s infinite;\r\n            content: \"\";\r\n            display: block;\r\n            width: 6px;\r\n            height: 1px;\r\n            position: absolute;\r\n            bottom: 4px;\r\n            left: -12px;\r\n            box-shadow: 5px -2px 0 white, 3px -6px 0 white, 2px -10px 0 white,\r\n              4px -14px 0 white;\r\n          }\r\n          @keyframes sends {\r\n            10% {\r\n              transform: translateX(2px);\r\n              box-shadow: -2px -2px 0 white, -1px -6px 0 white,\r\n                -2px -10px 0 white, -1px -14px 0 white;\r\n            }\r\n            50% {\r\n              transform: translateX(-1px);\r\n            }\r\n            100% {\r\n              transform: translateX(0);\r\n            }\r\n          }\r\n        }\r\n        &:nth-child(3) {\r\n          display: none;\r\n        }\r\n        &:nth-child(4) {\r\n          overflow: hidden;\r\n          display: block;\r\n          animation: send-right 1s;\r\n        }\r\n      }\r\n    } // bulk sending\r\n  }\r\n}\r\n.table-container {\r\n  overflow: hidden;\r\n}\r\nul.option {\r\n  padding: 0;\r\n  margin: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n  li {\r\n    list-style-type: none;\r\n    margin: 0;\r\n    padding: 0;\r\n    cursor: pointer;\r\n    &:nth-child(1) {\r\n      color: $sub-color;\r\n    }\r\n    &:nth-child(2) {\r\n      margin: 0 10px;\r\n    }\r\n    &:nth-child(3) {\r\n      color: $primary-color;\r\n      position: relative;\r\n    }\r\n    &.sending {\r\n      span:first-child {\r\n        display: none;\r\n      }\r\n      span:last-child {\r\n        animation: spinAround 0.5s infinite linear;\r\n        border: 2px solid #dbdbdb;\r\n        border-radius: 9999px;\r\n        border-right-color: transparent;\r\n        border-top-color: transparent;\r\n        content: \"\";\r\n        display: block;\r\n        height: 1em;\r\n        position: relative;\r\n        width: 1em;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n@keyframes send-right {\r\n  from {\r\n    transform: translateX(30px);\r\n  }\r\n  to {\r\n    transform: translateX(0);\r\n  }\r\n}\r\n@keyframes send-left {\r\n  from {\r\n    transform: translateX(-30px);\r\n  }\r\n  to {\r\n    transform: translateX(0);\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./payslip-list.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./payslip-list.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./payslip-list.vue?vue&type=template&id=61cae07d&scoped=true\"\nimport script from \"./payslip-list.vue?vue&type=script&lang=js\"\nexport * from \"./payslip-list.vue?vue&type=script&lang=js\"\nimport style0 from \"./payslip-list.vue?vue&type=style&index=0&id=61cae07d&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"61cae07d\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./confirm.vue?vue&type=style&index=0&id=b391a79a&prod&lang=scss&scoped=true\"","import gql from 'graphql-tag'\r\n\r\n\r\nexport const GET_INCOMPLETE_EMPS = gql`\r\n\r\n{\r\n  getIncompleteEmps {\r\n    employeesCount\r\n    employees {\r\n      _id\r\n            image {\r\n                src\r\n            }\r\n            employeeCode\r\n            firstName\r\n            lastName\r\n            dateOfBirth\r\n            contactName\r\n            idCardOrPassport\r\n            email\r\n            ssoId\r\n            isSso\r\n\r\n            emergencyContact {\r\n                fullName\r\n                contactNumber\r\n                relationshipId\r\n            }\r\n            bankAccount {\r\n                bankId\r\n                accountName\r\n                accountNumber\r\n            }\r\n            position\r\n            department\r\n\r\n            isExpat\r\n            isCompleted\r\n    }\r\n  }\r\n}\r\n\r\n`\r\n\r\n\r\nexport const GET_PAYROLL_BY_MONTHS = gql`\r\n\r\n    {\r\n        getPayrollByMonths {\r\n            monthlyPaymentId\r\n            isApproved\r\n            paymentDate\r\n            totalSalary\r\n            totalTax\r\n            totalSso\r\n            employeeCount\r\n            workGroupId {\r\n                _id\r\n                name\r\n                employeesCount\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n`\r\n\r\nexport const GET_TOTAL_PAYROLL = gql`\r\n\r\nquery (\r\n  $monthlyPaymentId: ID!\r\n) {\r\n  getTotalPayroll(\r\n    \r\n    monthlyPaymentId: $monthlyPaymentId\r\n  ) {\r\n    totalDeductible\r\n    totalPayroll\r\n    totalOT\r\n    totalBasicSalary\r\n\r\n    paymentDate\r\n  }\r\n}\r\n\r\n`\r\n\r\n\r\nexport const GET_PAYROLL_BY_EMPS = gql`\r\n\r\nquery ($monthlyPaymentId: ID!) {\r\n        getPayrollByEmps(monthlyPaymentId: $monthlyPaymentId) {\r\n            hasExpat\r\n            employeeWage {\r\n              tax\r\n              ssoPaidByEmp\r\n              totalEarning\r\n              totalDeduction\r\n              netPay\r\n            }\r\n            totalPayrollCost {\r\n              netPay\r\n              ssoPaidByCom\r\n              totalPayrollCost\r\n            }\r\n            paymentSummary {\r\n              netPay\r\n              tax\r\n              totalSso\r\n            }\r\n            employees {\r\n                employeeId\r\n                employeeCode\r\n\r\n                mobile\r\n                email\r\n\r\n                bankAccount {\r\n                  bankName\r\n                  accountName\r\n                  accountNumber\r\n                }\r\n    \r\n              \r\n                fullName\r\n                fullNameLao\r\n              \r\n                position\r\n                department\r\n              \r\n      \r\n\r\n                earningBeforeTax\r\n                earningAfterTax\r\n                earningBeforeSso\r\n                earningAfterSso\r\n\r\n                deductionBeforeTax\r\n                deductionAfterTax\r\n                deductionBeforeSso\r\n                deductionAfterSso\r\n\r\n\r\n                calcDeductible\r\n                deductibleBeforeTax\r\n                deductibleAfterTax\r\n              \r\n              \r\n                basicSalary              \r\n                salaryGrade\r\n                startWorkingDate\r\n                defaultWorkingDay\r\n                actualWorkingDay\r\n                thisMonthSalary\r\n                isExpat\r\n\r\n                OTHours\r\n                OTAmount\r\n                earnings\r\n                deductions\r\n\r\n\r\n                totalOTAmount\r\n                totalDueAsTax\r\n              \r\n                ssoPaidByCom\r\n                ssoPaidByEmp\r\n                calcSso\r\n                tax\r\n                customFormulas {\r\n                    key\r\n                    value\r\n                   # isFinalNetPay\r\n                }\r\n                customFields {\r\n                    key\r\n                    value\r\n         \r\n                }\r\n              finalNetPay\r\n\r\n              isRequestSent\r\n              isPayslipSent\r\n            }\r\n            date\r\n            isApproved\r\n            isRequestSent\r\n            isRequestApproved\r\n            isPayslipSent\r\n          \r\n            isCalculated\r\n            \r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n`\r\n\r\nexport const CALC_PAYROLL = gql`\r\n\r\nmutation (\r\n        $monthlyPaymentId: ID!\r\n        $status: String\r\n    ) {\r\n        calcPayroll (\r\n            monthlyPaymentId: $monthlyPaymentId\r\n            status: $status\r\n        )\r\n    }\r\n\r\n`\r\n\r\nexport const SEND_REQUEST_CALC = gql`\r\n\r\n    mutation (\r\n        $monthlyPaymentId: ID!\r\n    ) {\r\n        sendRequestCalc(\r\n            monthlyPaymentId: $monthlyPaymentId\r\n        )\r\n    }\r\n\r\n`\r\n\r\n\r\nexport const SEND_PAYSLIP_BY_EMPS = gql`\r\n\r\n  mutation (\r\n    $monthlyPaymentId: ID!\r\n    $employeeIds: [ID!]!\r\n  ) {\r\n    sendPayslipByEmps(\r\n      monthlyPaymentId: $monthlyPaymentId\r\n      employeeIds: $employeeIds\r\n    )\r\n  }\r\n\r\n`\r\n\r\nexport const SEND_PAYSLIP = gql`\r\n\r\n    mutation (\r\n        $monthlyPaymentId: ID!\r\n    ) {\r\n        sendPayslip(\r\n            monthlyPaymentId: $monthlyPaymentId\r\n        )\r\n    }\r\n\r\n`\r\n\r\n\r\nexport const ADD_PAYROLL = gql`\r\n\r\nmutation (\r\n  $workGroupId: ID!\r\n) {\r\n  addPayroll(\r\n    workGroupId: $workGroupId\r\n  )\r\n}\r\n\r\n`\r\n\r\n\r\nexport const DELETE_PAYROLL = gql`\r\n\r\nmutation (\r\n  $monthlyPaymentId: ID!\r\n) {\r\n  deletePayroll(\r\n    monthlyPaymentId: $monthlyPaymentId\r\n  )\r\n}\r\n\r\n`","import {apolloClient} from \"@/services/apollo-client\";\r\nimport {\r\n    CALC_PAYROLL,\r\n    GET_TOTAL_PAYROLL,\r\n    GET_PAYROLL_BY_EMPS,\r\n    GET_PAYROLL_BY_MONTHS,\r\n    SEND_PAYSLIP,\r\n    SEND_PAYSLIP_BY_EMPS,\r\n    SEND_REQUEST_CALC,\r\n    ADD_PAYROLL,\r\n    DELETE_PAYROLL,\r\n    GET_INCOMPLETE_EMPS\r\n\r\n} from \"@/graphql/Payroll\"\r\n\r\nexport const getIncompleteEmps = () => {\r\n    return new Promise(async (resolve, reject) => {\r\n        try {\r\n            const res = await apolloClient.query({\r\n                query: GET_INCOMPLETE_EMPS,\r\n            })\r\n            resolve(res.data.getIncompleteEmps)\r\n        } catch (err) {\r\n            reject(err)\r\n        }\r\n    })\r\n}\r\n\r\n\r\n\r\nexport const getPayrollByMonths = () => {\r\n    return new Promise(async (resolve, reject) => {\r\n        try {\r\n            const res = await apolloClient.query({\r\n                query: GET_PAYROLL_BY_MONTHS,\r\n            })\r\n            resolve(res.data.getPayrollByMonths)\r\n        } catch (err) {\r\n            reject(err)\r\n        }\r\n    })\r\n}\r\n\r\nexport const getTotalPayroll = (monthlyPaymentId) => {\r\n    return new Promise(async (resolve, reject) => {\r\n        try {\r\n            const res = await apolloClient.query({\r\n                query: GET_TOTAL_PAYROLL,\r\n                variables: {\r\n                    monthlyPaymentId\r\n                }\r\n            })\r\n            resolve(res.data.getTotalPayroll)\r\n        } catch (err) {\r\n            reject(err)\r\n        }\r\n    })\r\n}\r\n\r\n\r\nexport const getPayrollByEmps = (monthlyPaymentId) => {\r\n    return new Promise(async (resolve, reject) => {\r\n        try {\r\n            const res = await apolloClient.query({\r\n                query: GET_PAYROLL_BY_EMPS,\r\n                variables: {\r\n                    monthlyPaymentId\r\n                }\r\n            })\r\n            resolve(res.data.getPayrollByEmps)\r\n        } catch (err) {\r\n            reject(err)\r\n        }\r\n    })\r\n}\r\n\r\n\r\n\r\nexport const calcPayroll = (monthlyPaymentId, status) => {\r\n    return new Promise(async (resolve, reject) => {\r\n        try {\r\n            const res = await apolloClient.mutate({\r\n                mutation: CALC_PAYROLL,\r\n                variables: {\r\n                    monthlyPaymentId,\r\n                    status\r\n                }\r\n            })\r\n            resolve(res.data.calcPayroll)\r\n        } catch (err) {\r\n            reject(err)\r\n        }\r\n    })\r\n}\r\n\r\n\r\nexport const sendRequestCalc = (monthlyPaymentId) => {\r\n    return new Promise(async (resolve, reject) => {\r\n        try {\r\n            const res = await apolloClient.mutate({\r\n                mutation: SEND_REQUEST_CALC,\r\n                variables: {\r\n                    monthlyPaymentId\r\n                }\r\n            })\r\n            resolve(res.data.sendRequestCalc)\r\n        } catch (err) {\r\n            reject(err)\r\n        }\r\n    })\r\n}\r\n\r\nexport const sendPayslip = (monthlyPaymentId) => {\r\n    return new Promise(async (resolve, reject) => {\r\n        try {\r\n            const res = await apolloClient.mutate({\r\n                mutation: SEND_PAYSLIP,\r\n                variables: {\r\n                    monthlyPaymentId\r\n                }\r\n            })\r\n            resolve(res.data.sendPayslip)\r\n        }catch (err ) {\r\n            reject(err)\r\n        }\r\n    })\r\n\r\n}\r\n\r\nexport const sendPayslipByEmps = (form) => {\r\n    return new Promise(async (resolve, reject) => {\r\n        try {\r\n            const res = await apolloClient.mutate({\r\n                mutation: SEND_PAYSLIP_BY_EMPS,\r\n                variables: form\r\n            })\r\n            resolve(res.data.sendPayslipByEmps)\r\n        }catch (err ) {\r\n            reject(err)\r\n        }\r\n    })\r\n\r\n}\r\n\r\n\r\n\r\nexport const addPayroll = (workGroupId) => {\r\n    return new Promise(async (resolve, reject) => {\r\n        try {\r\n            const res = await apolloClient.mutate({\r\n                mutation: ADD_PAYROLL,\r\n                variables: {\r\n                    workGroupId\r\n                }\r\n            })\r\n            resolve(res.data.addPayroll)\r\n        }catch (err ) {\r\n            reject(err)\r\n        }\r\n    })\r\n\r\n}\r\n\r\n\r\nexport const deletePayroll = (monthlyPaymentId) => {\r\n    return new Promise(async (resolve, reject) => {\r\n        try {\r\n            const res = await apolloClient.mutate({\r\n                mutation: DELETE_PAYROLL,\r\n                variables: {\r\n                    monthlyPaymentId\r\n                }\r\n            })\r\n            resolve(res.data.deletePayroll)\r\n        }catch (err ) {\r\n            reject(err)\r\n        }\r\n    })\r\n\r\n}\r\n","'use strict';\nvar $ = require('../internals/export');\nvar map = require('../internals/iterator-map');\nvar IS_PURE = require('../internals/is-pure');\n\n// `Iterator.prototype.map` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.map\n$({ target: 'Iterator', proto: true, real: true, forced: IS_PURE }, {\n  map: map\n});\n","'use strict';\nvar call = require('../internals/function-call');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\nvar createIteratorProxy = require('../internals/iterator-create-proxy');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\n\nvar IteratorProxy = createIteratorProxy(function () {\n  var iterator = this.iterator;\n  var result = anObject(call(this.next, iterator));\n  var done = this.done = !!result.done;\n  if (!done) return callWithSafeIterationClosing(iterator, this.mapper, [result.value, this.counter++], true);\n});\n\n// `Iterator.prototype.map` method\n// https://github.com/tc39/proposal-iterator-helpers\nmodule.exports = function map(mapper) {\n  anObject(this);\n  aCallable(mapper);\n  return new IteratorProxy(getIteratorDirect(this), {\n    mapper: mapper\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}