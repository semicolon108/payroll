{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./src/components/CompanySetup/company-deductible.vue?6621","webpack:///./src/components/CompanySetup/company-deductible.vue","webpack:///src/components/CompanySetup/company-deductible.vue","webpack:///./src/components/CompanySetup/company-deductible.vue?4ca2","webpack:///./src/components/CompanySetup/company-deductible.vue?6856"],"names":["$","uncurryThis","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","join","ES3_STRINGS","Object","FORCED","target","proto","forced","separator","this","undefined","render","_vm","_c","_self","staticClass","_v","on","$event","ModalClick","showGroup","class","create","itemSelected","length","attrs","openCreateGroupModal","_l","earnDeductGroups","i","key","_id","_s","name","earnDeductsCount","editGroup","_e","_m","earnDeducts","ref","refInFor","itemSelect","type","_f","groups","isBeforeTax","editItem","deleteItem","tag","pushItem","pushGroupItem","updateItem","spliceItem","updateGroupItem","spliceGroupItem","staticRenderFns","components","AddItem","CreateGroup","ManageGroup","DeleteItem","data","filters","perttyArray","arr","map","created","getData","methods","id","itemID","includes","filter","push","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","getEarnDeducts","sent","getEarnDeductGroups","stop","_this2","$nextTick","$refs","Modal","form","earnDeductIds","item","_this3","_callee2","_context2","_this4","_callee3","curIdx","_context3","findIndex","splice","Checkbox","checked","_this5","_callee4","_context4","_this6","_callee5","_context5","earnDeductId","_this7","isEditMode","isBeforeSso","earnDeductGroupIds","_this8","_this9","earnDeductGroupId","component"],"mappings":"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","file":"js/chunk-037c452c.bc6a9351.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = uncurryThis([].join);\n\nvar ES3_STRINGS = IndexedObject !== Object;\nvar FORCED = ES3_STRINGS || !arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  join: function join(separator) {\n    return nativeJoin(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./company-deductible.vue?vue&type=style&index=0&id=39dc4096&prod&lang=scss&scoped=true\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"page-container\"},[_c('div',{staticClass:\"page-header\"},[_c('div',{staticClass:\"header-start\"},[_c('h3',{staticClass:\"page-title\"},[_vm._v(\"Earning / Deduction\")]),_c('button',{staticClass:\"button primary\",on:{\"click\":function($event){_vm.ModalClick = 'AddItem'}}},[_vm._v(\" Add Item \")])]),_c('div',{staticClass:\"header-end\"},[_c('button',{staticClass:\"button\",on:{\"click\":function($event){_vm.showGroup = !_vm.showGroup}}},[_vm._v(\" Manage Group \")]),_c('button',{staticClass:\"button\",class:{ create: _vm.itemSelected.length },attrs:{\"disabled\":_vm.itemSelected.length ? false : true},on:{\"click\":_vm.openCreateGroupModal}},[_vm._v(\" Create Group \")])])]),(_vm.showGroup)?_c('div',{staticClass:\"group-list slide-down\"},_vm._l((_vm.earnDeductGroups),function(i){return _c('div',{key:i._id,staticClass:\"group-item\"},[_c('span',[_vm._v(_vm._s(i.name))]),_c('span',{staticClass:\"count\"},[_vm._v(_vm._s(i.earnDeductsCount))]),_c('span',{on:{\"click\":function($event){return _vm.editGroup(i)}}},[_c('i',{staticClass:\"fas fa-cog\"})])])}),0):_vm._e(),_c('div',{staticClass:\"page-content\"},[_c('table',{staticClass:\"table border-bottom is-fullwidth\",attrs:{\"id\":\"my-table\"}},[_vm._m(0),_c('tbody',_vm._l((_vm.earnDeducts),function(i){return _c('tr',{key:i._id},[_c('td',{staticClass:\"wrap\"},[_c('div',{staticClass:\"check\"},[_c('input',{ref:\"Checkbox\",refInFor:true,attrs:{\"type\":\"checkbox\",\"name\":\"\",\"id\":i._id}}),_c('label',{attrs:{\"for\":i._id},on:{\"click\":function($event){return _vm.itemSelect(i._id)}}},[_vm._v(_vm._s(i.name))])])]),_c('td',[_vm._v(_vm._s(i.type))]),_c('td',[_vm._v(_vm._s(_vm._f(\"perttyArray\")(i.groups)))]),_c('td',[_vm._v(_vm._s(i.isBeforeTax ? \"BeforeTAX\" : \"AfterTAX\"))]),_c('td',[_c('div',{staticClass:\"icons\"},[_c('span',{staticClass:\"icon\",on:{\"click\":function($event){return _vm.editItem(i)}}},[_c('i',{staticClass:\"fas fa-pen bubble\"})]),_c('span',{staticClass:\"icon alert\",on:{\"click\":function($event){return _vm.deleteItem(i)}}},[_c('i',{staticClass:\"fas fa-trash bubble\"})])])])])}),0)])]),_c(_vm.ModalClick,{ref:\"Modal\",tag:\"component\",on:{\"PushItem\":_vm.pushItem,\"PushGroupItem\":_vm.pushGroupItem,\"UpdateItem\":_vm.updateItem,\"SpliceItem\":_vm.spliceItem,\"UpdateGroupItem\":_vm.updateGroupItem,\"SpliceGroupItem\":_vm.spliceGroupItem,\"CloseModal\":function($event){_vm.ModalClick = ''}}})],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"Item Name\")]),_c('th',{staticClass:\"is-xs\"},[_vm._v(\"Item Type\")]),_c('th',{},[_vm._v(\"Group\")]),_c('th',{staticClass:\"is-xs\"},[_vm._v(\"TAX\")]),_c('th',{staticClass:\"is-xs\"},[_vm._v(\"Option\")])])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"page-container\">\r\n    <div class=\"page-header\">\r\n      <div class=\"header-start\">\r\n        <h3 class=\"page-title\">Earning / Deduction</h3>\r\n        <button @click=\"ModalClick = 'AddItem'\" class=\"button primary\">\r\n          Add Item\r\n        </button>\r\n      </div>\r\n      <div class=\"header-end\">\r\n        <button class=\"button\" @click=\"showGroup = !showGroup\">\r\n          Manage Group\r\n        </button>\r\n        <button\r\n          class=\"button\"\r\n          @click=\"openCreateGroupModal\"\r\n          :class=\"{ create: itemSelected.length }\"\r\n          :disabled=\"itemSelected.length ? false : true\"\r\n        >\r\n          Create Group\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <div class=\"group-list slide-down\" v-if=\"showGroup\">\r\n      <div v-for=\"i in earnDeductGroups\" :key=\"i._id\" class=\"group-item\">\r\n        <span>{{ i.name }}</span>\r\n        <span class=\"count\">{{ i.earnDeductsCount }}</span>\r\n        <span @click=\"editGroup(i)\">\r\n          <i class=\"fas fa-cog\"></i>\r\n        </span>\r\n      </div>\r\n      <!-- <button class=\"button grey\" style=\"margin-left: 5px\"><i class=\"fas fa-plus\"></i></button> -->\r\n    </div>\r\n\r\n    <div class=\"page-content\">\r\n      <table class=\"table border-bottom is-fullwidth\" id=\"my-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>Item Name</th>\r\n            <th class=\"is-xs\">Item Type</th>\r\n            <th class=\"\">Group</th>\r\n            <th class=\"is-xs\">TAX</th>\r\n            <th class=\"is-xs\">Option</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"i in earnDeducts\" :key=\"i._id\">\r\n            <td class=\"wrap\">\r\n              <div class=\"check\">\r\n                <input ref=\"Checkbox\" type=\"checkbox\" name=\"\" :id=\"i._id\" />\r\n                <label :for=\"i._id\" @click=\"itemSelect(i._id)\">{{\r\n                  i.name\r\n                }}</label>\r\n              </div>\r\n            </td>\r\n            <td>{{ i.type }}</td>\r\n            <td>{{ i.groups | perttyArray }}</td>\r\n            <td>{{ i.isBeforeTax ? \"BeforeTAX\" : \"AfterTAX\" }}</td>\r\n            <td>\r\n              <div class=\"icons\">\r\n                <span class=\"icon\" @click=\"editItem(i)\"\r\n                  ><i class=\"fas fa-pen bubble\"></i\r\n                ></span>\r\n                <span class=\"icon alert\" @click=\"deleteItem(i)\"\r\n                  ><i class=\"fas fa-trash bubble\"></i\r\n                ></span>\r\n              </div>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n\r\n    <component\r\n      ref=\"Modal\"\r\n      @PushItem=\"pushItem\"\r\n      @PushGroupItem=\"pushGroupItem\"\r\n      @UpdateItem=\"updateItem\"\r\n      @SpliceItem=\"spliceItem\"\r\n      @UpdateGroupItem=\"updateGroupItem\"\r\n      @SpliceGroupItem=\"spliceGroupItem\"\r\n      :is=\"ModalClick\"\r\n      @CloseModal=\"ModalClick = ''\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AddItem from \"@coms/CompanySetup/Modal/AddItem\";\r\nimport CreateGroup from \"@coms/CompanySetup/Modal/CreateGroup\";\r\nimport ManageGroup from \"@coms/CompanySetup/Modal/ManageGroup\";\r\nimport DeleteItem from \"@coms/CompanySetup/Modal/DeleteItem\";\r\nimport { getEarnDeducts } from \"@/apis/earn-deduct-api\";\r\nimport { getEarnDeductGroups } from \"@/apis/earn-deduct-group-api\";\r\n\r\nexport default {\r\n  components: {\r\n    AddItem,\r\n    CreateGroup,\r\n    ManageGroup,\r\n    DeleteItem,\r\n  },\r\n  data: () => ({\r\n    showGroup: false,\r\n    itemSelected: [],\r\n    ModalClick: \"\",\r\n    earnDeducts: [],\r\n    earnDeductGroups: [],\r\n  }),\r\n  filters: {\r\n    perttyArray(arr) {\r\n      if (arr.length) return arr.map((i) => i.name).join(\", \");\r\n      return \"Ungroup\";\r\n    },\r\n  },\r\n  created() {\r\n    this.getData();\r\n  },\r\n  methods: {\r\n    itemSelect(id) {\r\n      const itemID = this.itemSelected.includes(id);\r\n      if (!itemID) {\r\n        this.itemSelected.push(id);\r\n      } else {\r\n        this.itemSelected = this.itemSelected.filter((i) => i !== id);\r\n      }\r\n    },\r\n    async getData() {\r\n      this.earnDeducts = await getEarnDeducts();\r\n      this.earnDeductGroups = await getEarnDeductGroups();\r\n    },\r\n    openCreateGroupModal() {\r\n      this.ModalClick = \"CreateGroup\";\r\n      this.$nextTick(() => {\r\n        this.$refs.Modal.form.earnDeductIds = this.itemSelected;\r\n      });\r\n    },\r\n    async pushItem(item) {\r\n      this.earnDeducts.push(item);\r\n      this.earnDeductGroups = await getEarnDeductGroups();\r\n    },\r\n    async updateItem(item) {\r\n      const curIdx = this.earnDeducts.findIndex((i) => i._id === item._id);\r\n      this.earnDeducts.splice(curIdx, 1, item);\r\n      this.earnDeductGroups = await getEarnDeductGroups();\r\n    },\r\n    pushGroupItem() {\r\n      this.itemSelected = [];\r\n      this.$refs.Checkbox.map((i) => {\r\n        i.checked = false;\r\n      });\r\n      this.getData();\r\n    },\r\n    async updateGroupItem(item) {\r\n      const curIdx = this.earnDeductGroups.findIndex((i) => i._id === item._id);\r\n      this.earnDeductGroups.splice(curIdx, 1, item);\r\n      this.earnDeducts = await getEarnDeducts();\r\n    },\r\n    async spliceGroupItem(item) {\r\n      const curIdx = this.earnDeductGroups.findIndex((i) => i._id === item._id);\r\n      this.earnDeductGroups.splice(curIdx, 1);\r\n      this.earnDeducts = await getEarnDeducts();\r\n    },\r\n    spliceItem(earnDeductId) {\r\n      const curIdx = this.earnDeducts.findIndex((i) => i._id === earnDeductId);\r\n      this.earnDeducts.splice(curIdx, 1);\r\n    },\r\n\r\n    editItem(item) {\r\n      this.ModalClick = \"AddItem\";\r\n      this.$nextTick(() => {\r\n        this.$refs.Modal.isEditMode = true;\r\n        this.$refs.Modal.form = {\r\n          earnDeductId: item._id,\r\n          name: item.name,\r\n          type: item.type,\r\n          isBeforeTax: item.isBeforeTax,\r\n           isBeforeSso: item.isBeforeSso,\r\n          earnDeductGroupIds: item.groups.map((i) => i._id),\r\n        };\r\n      });\r\n    },\r\n    deleteItem(item) {\r\n      this.ModalClick = \"DeleteItem\";\r\n      this.$nextTick(() => {\r\n        this.$refs.Modal.earnDeductId = item._id;\r\n        this.$refs.Modal.name = item.name;\r\n      });\r\n    },\r\n    editGroup(item) {\r\n      this.ModalClick = \"ManageGroup\";\r\n      this.$nextTick(() => {\r\n        this.$refs.Modal.form = {\r\n          name: item.name,\r\n          earnDeductGroupId: item._id,\r\n          earnDeductIds: item.earnDeductIds.map((i) => i._id),\r\n        };\r\n        this.$refs.Modal.earnDeducts = item.earnDeductIds;\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.button-group {\r\n  display: flex;\r\n  margin-left: auto;\r\n}\r\n\r\n.button {\r\n  border-radius: $radius;\r\n  border: 1px solid $border-color;\r\n  margin-left: 10px;\r\n  transition: all ease-in-out 0.2s;\r\n  color: $font-color;\r\n  box-shadow: none;\r\n  &:hover {\r\n    outline: none;\r\n  }\r\n  &.create {\r\n    background-color: $primary-color;\r\n    color: #fff;\r\n    border: 1px solid $primary-color;\r\n  }\r\n  &:disabled {\r\n    background-color: $grey-color;\r\n    color: $font-color;\r\n  }\r\n}\r\n\r\n.group-list {\r\n  display: flex;\r\n  margin-bottom: 20px;\r\n  .group-item {\r\n    cursor: pointer;\r\n    padding: 5px 15px;\r\n    border: 1px solid $border-color;\r\n    display: flex;\r\n    align-items: center;\r\n    &:first-child {\r\n      background-color: $light-grey-color;\r\n    }\r\n    &:not(:first-child) {\r\n      margin-left: 5px;\r\n    }\r\n    .count {\r\n      margin-left: 8px;\r\n      color: $primary-color;\r\n      font-weight: 700;\r\n    }\r\n    i {\r\n      cursor: pointer;\r\n      font-size: 14px;\r\n      margin-left: 5px;\r\n      color: $dark-grey-color;\r\n    }\r\n  }\r\n}\r\n\r\n.check {\r\n  position: relative;\r\n  input {\r\n    display: none;\r\n    &:checked ~ label::before {\r\n      background-color: $primary-color;\r\n      border-color: $primary-color;\r\n    }\r\n    &:checked ~ label::after {\r\n      content: \"\";\r\n      display: block;\r\n      position: absolute;\r\n      top: 7px;\r\n      left: 7px;\r\n      width: 5px;\r\n      height: 11px;\r\n      border: solid #fff;\r\n      border-width: 0 2px 2px 0;\r\n      transform: rotate(45deg);\r\n    }\r\n  }\r\n  label {\r\n    position: relative;\r\n    cursor: pointer;\r\n    display: flex;\r\n    align-items: center;\r\n    margin: 0 10px 0 0;\r\n    &::before {\r\n      content: \"\";\r\n      width: 18px;\r\n      height: 18px;\r\n      display: block;\r\n      border: 1px solid $border-color;\r\n      margin-right: 10px;\r\n    }\r\n\r\n    &::after {\r\n      content: \"\";\r\n      display: block;\r\n      position: absolute;\r\n      top: 7px;\r\n      left: 7px;\r\n      width: 5px;\r\n      height: 11px;\r\n      border: solid $light-grey-color;\r\n      border-width: 0 2px 2px 0;\r\n      transform: rotate(45deg);\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./company-deductible.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./company-deductible.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./company-deductible.vue?vue&type=template&id=39dc4096&scoped=true\"\nimport script from \"./company-deductible.vue?vue&type=script&lang=js\"\nexport * from \"./company-deductible.vue?vue&type=script&lang=js\"\nimport style0 from \"./company-deductible.vue?vue&type=style&index=0&id=39dc4096&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"39dc4096\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}